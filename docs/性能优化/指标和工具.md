## 性能指标

### RAIL 测量模型

RAIL 测量模型是一个性能测量的标准指标

RAIL 解释

- R -> Response 响应
- A -> Animation 动画
- I -> Idle 空闲
- L -> Load 加载

#### Response 响应

处理事件应在 50ms 以内完成

#### Animation 动画

每 10ms 产生一帧

#### Idle 空闲

尽可能的增加主线程的空闲时间，这样用户操作就不会卡顿

#### Load 加载

在 5s 内完成内容加载并且可以交互

## 性能测试工具

### Chrome DevTools 开发调试、性能评测

### Lighthouse 网站整体质量评估

Chrome 现在自带该插件

### WebPageTest 多测试地点、全面性能报告

[webpagetest](https://webpagetest.org)一个在线性能测试的工具网站

## 常用性能测量 API

```js
获取时间对象;
const timing = performance.getEntriesByType("navigator")[0];

// 首次可交互时间
let tti = timing.domInteractive - timing.fetchStart;
// 其他时间的计算可参考下面
```

```
DNS 解析耗时: domainLookupEnd - domainLookupStart
TCP 连接耗时: connectEnd - connectStart
SSL 安全连接耗时: connectEnd - secureConnectionStart
网络请求耗时 (TTFB): responseStart - requestStart
数据传输耗时: responseEnd - responseStart
DOM 解析耗时: domInteractive - responseEnd
资源加载耗时: loadEventStart - domContentLoadedEventEnd
First Byte时间: responseStart - domainLookupStart
白屏时间: responseEnd - fetchStart
首次可交互时间: domInteractive - fetchStart
DOM Ready 时间: domContentLoadEventEnd - fetchStart
页面完全加载时间: loadEventStart - fetchStart
http 头部大小： transferSize - encodedBodySize
重定向次数：performance.navigation.redirectCount
重定向耗时: redirectEnd - redirectStart
```
