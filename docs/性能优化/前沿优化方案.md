## 使用 svg 图片

1. 矢量图形不失帧
2. 可以直接通过 css 修改样式
3. xml 语法，有利于搜索引擎 SEO 和无障碍读屏软件读取

## 使用 flex 布局

flex 布局有更好的性能

## 优化资源加载顺序

浏览器默认安排资源加载的优先级

我们可以使用 preload prefetch 调整资源的优先级

preload 提前加载较晚出现，但是对当前页面非常重要的资源。

```html
<link rel="preload" href="img/one.jpg" as="image" />
```

prefetch 在空闲的时候提前加载后面可能会用到的资源。

```html
<link rel="prefetch" href="img/one.jpg" as="image" />
```

在 webpack 中配置 prefetch preload

```js
// 我们只需要在异步动态加载的前面添加注释 webpackPrefetch或webpackPreload 即可
import(/* webpackPrefetch: true */ "ChartingLibrary");
import(/* webpackPreload: true */ "ChartingLibrary");
```

### js 异步加载 async defer 区别？

默认情况下，脚本的下载和执行将会按照文档的先后顺序同步进行。当脚本下载和执行的时候，文档解析就会被阻塞，在脚本下载和执行完成之后文档才能往下继续进行解析。但是通过加上 async 或 difer 标签就能实现异步加载。下面是 async 和 defer 两者区别：

- 当 script 中有 defer 属性时，脚本的加载过程和文档加载是异步发生的，等到文档解析完(DOMContentLoaded 事件发生前)脚本才开始执行。多个脚本按顺序执行。
- 当 script 有 async 属性时，脚本的加载过程和文档加载也是异步发生的。但脚本下载完成后会停止 HTML 解析，执行脚本，脚本解析完继续 HTML 解析。多个脚本的执行顺序无法保证。
- 当 script 同时有 async 和 defer 属性时，执行效果和 async 一致。

## 预渲染

预渲染，在构建的时候把首页渲染出来。大大提高了首屏渲染时间。

可以使用[react-snap](https://github.com/stereobooster/react-snap)预渲染插件，该插件支持 react 和 vue

## windowing 窗口化

窗口化，只渲染窗口里能见的元素，提升大列表渲染性能。

顶部不可见的元素动态删除，底部将要出现的元素动态创建，可视窗口里面元素基本固定数量，性能更好。

可以使用[react-window](https://github.com/bvaughn/react-window)窗口化插件

## 骨架屏 skeleton

在页面未渲染的时候显示粗略骨架图，用户体验更好

可以使用[react-placeholder](https://github.com/buildo/react-placeholder)骨架屏插件

## 首屏优化方案

### 资源体积太大

资源压缩，传输压缩(Gzip)，代码拆分，tree shaking，http2，缓存

### 首页内容太多

组件的懒加载，预渲染，服务端渲染，首屏行内 css

### 加载顺序不合适

使用 prefetch、preload 改变资源加载的顺序
