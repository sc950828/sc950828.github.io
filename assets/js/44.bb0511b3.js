(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{400:function(e,t,r){"use strict";r.r(t);var a=r(44),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"定义"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[e._v("#")]),e._v(" 定义")]),e._v(" "),r("p",[e._v("CSRF(Cross Site Request Forgy) 全称跨站点请求伪造")]),e._v(" "),r("p",[e._v("主要是在其他网站影响了本网站。在用户不知情的情况下在其他网站对本网站发起了一些请求。")]),e._v(" "),r("h2",{attrs:{id:"攻击原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#攻击原理"}},[e._v("#")]),e._v(" 攻击原理")]),e._v(" "),r("ol",[r("li",[e._v("用户登录 A 网站")]),e._v(" "),r("li",[e._v("A 网站确认身份，返回 cookies")]),e._v(" "),r("li",[e._v("用户访问 B 网站，在 B 网站页面伪造请求向 A 网站发起请求并携带上 A 网站的 cookies")])]),e._v(" "),r("h2",{attrs:{id:"防御"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#防御"}},[e._v("#")]),e._v(" 防御")]),e._v(" "),r("h3",{attrs:{id:"samesite"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#samesite"}},[e._v("#")]),e._v(" SameSite")]),e._v(" "),r("p",[e._v("利用 cookie 的新特性 SameSite 来控制 cookie 的使用。")]),e._v(" "),r("p",[e._v("当 SameSite=Strict 的时候，任何第三方的请求都不允许带上 cookie")]),e._v(" "),r("p",[e._v("当 SameSite=Lax 的时候允许第三方链接带上 cookie")]),e._v(" "),r("p",[e._v("缺点是目前只有 Chrome 浏览器支持，支持度并不高。")]),e._v(" "),r("h3",{attrs:{id:"验证码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#验证码"}},[e._v("#")]),e._v(" 验证码")]),e._v(" "),r("p",[e._v("每次请求的时候需要填写验证码，这样在第三方网站伪造请求访问的时候访问不通。")]),e._v(" "),r("p",[e._v("就算第三方网站把验证码模块搬过来，这样在伪造请求的时候需要用户输入验证码，这样伪造请求的难度就加大了，用户就会警醒起来。")]),e._v(" "),r("h3",{attrs:{id:"token"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#token"}},[e._v("#")]),e._v(" token")]),e._v(" "),r("p",[e._v("每次请求的时候需要携带 token，这样在第三方网站伪造请求访问的时候访问不通。")]),e._v(" "),r("h3",{attrs:{id:"referer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#referer"}},[e._v("#")]),e._v(" referer")]),e._v(" "),r("p",[e._v("referer 为请求来源，我们可以验证 referer 来屏蔽第三方网站的请求")])])}),[],!1,null,null,null);t.default=s.exports}}]);