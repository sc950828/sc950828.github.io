<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简介 | 苏纯的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/randy.jpg">
    <meta name="description" content="苏纯,汨罗苏纯,苏纯的博客,苏纯的前端博客,苏纯的个人博客,前端开发">
    <meta name="keywords" content="苏纯,苏纯的博客,苏纯的个人博客,苏纯的前端博客,前端博客,前端个人博客,前端开发">
    
    <link rel="preload" href="/assets/css/0.styles.22fcb12a.css" as="style"><link rel="preload" href="/assets/js/app.9f47291f.js" as="script"><link rel="preload" href="/assets/js/2.3fe5eade.js" as="script"><link rel="preload" href="/assets/js/11.7c8892d0.js" as="script"><link rel="prefetch" href="/assets/js/10.f9319f1a.js"><link rel="prefetch" href="/assets/js/12.bfd4ae56.js"><link rel="prefetch" href="/assets/js/13.12bdab88.js"><link rel="prefetch" href="/assets/js/14.b56cbcee.js"><link rel="prefetch" href="/assets/js/15.f176549c.js"><link rel="prefetch" href="/assets/js/16.8d9aa7cb.js"><link rel="prefetch" href="/assets/js/17.f91940a4.js"><link rel="prefetch" href="/assets/js/18.380e1d86.js"><link rel="prefetch" href="/assets/js/19.09bf99ef.js"><link rel="prefetch" href="/assets/js/20.7b9e2c8d.js"><link rel="prefetch" href="/assets/js/21.3c129053.js"><link rel="prefetch" href="/assets/js/22.9390abbb.js"><link rel="prefetch" href="/assets/js/23.051467ca.js"><link rel="prefetch" href="/assets/js/24.85aedd8a.js"><link rel="prefetch" href="/assets/js/25.a3b61af0.js"><link rel="prefetch" href="/assets/js/26.ff1c92fd.js"><link rel="prefetch" href="/assets/js/27.396c5348.js"><link rel="prefetch" href="/assets/js/28.e3e4164c.js"><link rel="prefetch" href="/assets/js/29.e69ccd94.js"><link rel="prefetch" href="/assets/js/3.11c80b4e.js"><link rel="prefetch" href="/assets/js/30.28a3997f.js"><link rel="prefetch" href="/assets/js/31.e54ed449.js"><link rel="prefetch" href="/assets/js/32.eb4f0da3.js"><link rel="prefetch" href="/assets/js/33.a05772c0.js"><link rel="prefetch" href="/assets/js/34.c74e9e53.js"><link rel="prefetch" href="/assets/js/35.4aff9555.js"><link rel="prefetch" href="/assets/js/36.c743e87e.js"><link rel="prefetch" href="/assets/js/4.9e16ce31.js"><link rel="prefetch" href="/assets/js/5.126b2f5e.js"><link rel="prefetch" href="/assets/js/6.b325cee5.js"><link rel="prefetch" href="/assets/js/7.57646205.js"><link rel="prefetch" href="/assets/js/8.da82a32b.js"><link rel="prefetch" href="/assets/js/9.2337a7ce.js">
    <link rel="stylesheet" href="/assets/css/0.styles.22fcb12a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">苏纯的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><a href="https://juejin.cn/user/3403743730867767/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><a href="https://juejin.cn/user/3403743730867767/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/HTML" class="sidebar-heading clickable"><span>HTML</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/CSS" class="sidebar-heading clickable router-link-active open"><span>CSS</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/CSS/css选择器这次我是真的弄懂了.html" class="sidebar-link">css选择器这次我是真的弄懂了</a></li><li><a href="/CSS/你必须掌握的css知识点和小技巧.html" class="sidebar-link">你必须掌握的css知识点和小技巧</a></li><li><a href="/CSS/彻底弄懂元素样式、位置、大小相关计算.html" class="active sidebar-link">彻底弄懂元素样式、位置、大小相关计算</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/CSS/彻底弄懂元素样式、位置、大小相关计算.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/CSS/彻底弄懂元素样式、位置、大小相关计算.html#元素样式的获取和设置" class="sidebar-link">元素样式的获取和设置</a></li><li class="sidebar-sub-header"><a href="/CSS/彻底弄懂元素样式、位置、大小相关计算.html#元素位置、大小计算" class="sidebar-link">元素位置、大小计算</a></li><li class="sidebar-sub-header"><a href="/CSS/彻底弄懂元素样式、位置、大小相关计算.html#屏幕和窗口位置、大小计算" class="sidebar-link">屏幕和窗口位置、大小计算</a></li><li class="sidebar-sub-header"><a href="/CSS/彻底弄懂元素样式、位置、大小相关计算.html#扩展" class="sidebar-link">扩展</a></li><li class="sidebar-sub-header"><a href="/CSS/彻底弄懂元素样式、位置、大小相关计算.html#后记" class="sidebar-link">后记</a></li></ul></li><li><a href="/CSS/css布局方案汇总.html" class="sidebar-link">css布局方案汇总</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JavaScript" class="sidebar-heading clickable"><span>JavaScript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/ECMAScript" class="sidebar-heading clickable"><span>ECMAScript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/H5" class="sidebar-heading clickable"><span>H5</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p>在我们日常开发中偶尔会碰到获取元素样式、设置某元素样式、计算元素位置、计算滚动距离等需求。但是 js 中关于元素位置、样式、大小的 api 种类繁多，稍不留神就会搞不清楚。今天笔者就带你彻底弄清楚，让你在这类问题上不再迷茫。</p> <p>本文分元素样式的获取和设置、元素位置大小计算、屏幕和窗口位置大小计算三部分来讲解，读完本文你将会学会</p> <ol><li>元素样式的获取的各种方法以及区别，在哪种情况是使用哪种方式最合适。</li> <li>元素大小位置计算，弄懂了<code>client</code>、<code>scroll</code>、<code>offset</code>三类 api 的区别。</li> <li><code>screen、window</code>对象关于位置、大小 api，以及各自的区别。</li></ol> <h2 id="元素样式的获取和设置"><a href="#元素样式的获取和设置" class="header-anchor">#</a> 元素样式的获取和设置</h2> <p><code>ele.style</code>、<code>getComputedStyle</code> 用来获取和设置元素样式。<code>el.className、el.classList</code> 用来获取和设置元素类名。<code>getBoundingClientRect</code>用来获取元素的位置和大小。</p> <h3 id="ele-style"><a href="#ele-style" class="header-anchor">#</a> ele.style</h3> <p>通过获取元素的<code>style</code>属性来获取元素样式。</p> <h4 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div1</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 18px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>style测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18px</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取不到该样式</span>
</code></pre></div><h4 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h4> <ol><li>这种方式获取的样式属性值是驼峰式。</li> <li>这种方式只能获取到元素的内联样式。</li> <li>我们可以通过该方法设置元素样式。</li></ol> <h4 id="常用方法"><a href="#常用方法" class="header-anchor">#</a> 常用方法</h4> <p><strong>cssText</strong></p> <p>我们还可以使用<code>cssText</code>来获取样式的字符串。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// font-size: 18px;</span>
</code></pre></div><p><strong>setProperty</strong></p> <p>我们可以使用<code>setProperty</code>方法来设置元素样式。</p> <p>注意我们设置元素样式的属性不是驼峰式写法。</p> <div class="language-js extra-class"><pre class="language-js"><code>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;font-weight&quot;</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 600</span>

<span class="token comment">// 当然这种方式也是可以的</span>
div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 600</span>
</code></pre></div><p><strong>getPropertyValue</strong></p> <p>我们可以使用<code>getPropertyValue</code>方法来获取元素样式。</p> <p>注意我们获取元素样式的属性不是驼峰式写法。</p> <div class="language-js extra-class"><pre class="language-js"><code>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18px</span>

<span class="token comment">// 当然这种方式也是可以的</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>removeProperty</strong></p> <p>我们可以使用<code>removeProperty</code>方法来移除元素某样式。</p> <div class="language-js extra-class"><pre class="language-js"><code>div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">removeProperty</span><span class="token punctuation">(</span><span class="token string">&quot;font-weight&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 当然这种方式也是可以的</span>
div1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getcomputedstyle-ele"><a href="#getcomputedstyle-ele" class="header-anchor">#</a> getComputedStyle(ele)</h3> <p>该方法挂载在<code>window</code>对象下，我们使用的时候可以省略<code>window</code>。</p> <h4 id="语法-2"><a href="#语法-2" class="header-anchor">#</a> 语法</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div1</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 18px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>style测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>div1<span class="token punctuation">)</span><span class="token punctuation">.</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18px</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>div1<span class="token punctuation">)</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// rgb(255, 0, 0)</span>
</code></pre></div><h4 id="特点-2"><a href="#特点-2" class="header-anchor">#</a> 特点</h4> <ol><li>这种方式获取的样式属性值是驼峰式。</li> <li>能获取元素渲染后的所有样式包括内联和不内联样式。</li> <li>只能获取元素的样式不能设置元素的样式。</li></ol> <h3 id="ele-getboundingclientrect"><a href="#ele-getboundingclientrect" class="header-anchor">#</a> ele.getBoundingClientRect()</h3> <p>该方法能获取元素的长度和宽度（width、height）。并且能获取元素相对于浏览器窗口的位置信息（left、right、top、bottom）。</p> <h4 id="语法-3"><a href="#语法-3" class="header-anchor">#</a> 语法</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.div1</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 18px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>style测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bottom: 33 盒子下边框距离视口顶部的距离</span>
<span class="token comment">// height: 25 盒子高度</span>
<span class="token comment">// left: 8 盒子左边框距离视口左部的距离</span>
<span class="token comment">// right: 342 盒子右边框距离视口左部的距离</span>
<span class="token comment">// top: 8 盒子上边框距离视口顶部的距离</span>
<span class="token comment">// width: 334 盒子的宽度</span>
<span class="token comment">// x: 8 盒子左上角相对于视口左侧的距离</span>
<span class="token comment">// y: 8 盒子左上角相对于视口顶部的距离</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="特点-3"><a href="#特点-3" class="header-anchor">#</a> 特点</h4> <ol><li>该方法只能获取元素位置和大小信息，不能获取到其他样式信息。</li> <li>该方法不能设置元素样式。</li></ol> <h3 id="el-classname、el-classlist"><a href="#el-classname、el-classlist" class="header-anchor">#</a> el.className、el.classList</h3> <p>除了前面介绍的获取样式，我们还可以获取到类名，然后通过添加类名的方式给元素添加新的样式。</p> <h4 id="语法-4"><a href="#语法-4" class="header-anchor">#</a> 语法</h4> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>classList<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// div1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// div1</span>
div1<span class="token punctuation">.</span>className <span class="token operator">+=</span> <span class="token string">&quot; div2&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 添加新类名 div2</span>
</code></pre></div><h4 id="特点-4"><a href="#特点-4" class="header-anchor">#</a> 特点</h4> <ol><li><code>el.className</code>获取的是元素的类名字符串，我们可以使用该方法获取类名或者添加新的类名。</li> <li><code>el.classList.value</code>获取的是类名字符串，如果单纯的想获取类名可以使用该方法。</li></ol> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <ol><li>当我们需要设置某元素样式的时候我们可以使用<code>ele.style</code>方法。</li> <li>当我们需要获取元素渲染后的所有样式的时候我们可以使用<code>getComputedStyle(ele)</code>方法。</li> <li>当我们需要获取类名或者批量设置元素样式的时候可以使用第三种方法。</li> <li>当我们需要计算元素位置，或者计算元素是否在可视窗口内或者元素大小的时候我们可以使用<code>ele.getBoundingClientRect()</code>方法。</li></ol> <blockquote><p>有了上面获取元素样式的基础下面我们再来介绍一些元素位置、大小的 api</p></blockquote> <h2 id="元素位置、大小计算"><a href="#元素位置、大小计算" class="header-anchor">#</a> 元素位置、大小计算</h2> <p>关于元素位置大小计算主要有<code>client</code>、<code>scroll</code>、<code>offset</code>三类<code>api</code>。</p> <h3 id="client"><a href="#client" class="header-anchor">#</a> client</h3> <p><code>client</code>可以简单理解为元素可视大小。</p> <h4 id="clientwidth、clientheight"><a href="#clientwidth、clientheight" class="header-anchor">#</a> clientWidth、clientHeight</h4> <p><code>clientWidth</code> 为可视宽度，宽度包含内边距（padding）。不包含边框（border）、外边距（margin）、滚动条。</p> <p><code>clientHeight</code> 为可视高度，高度包含内边距（padding）。不包含边框（border）、外边距（margin）、滚动条。</p> <h4 id="clienttop、clientleft"><a href="#clienttop、clientleft" class="header-anchor">#</a> clientTop、clientLeft</h4> <p><code>clientTop</code>获取的是元素上边框的高度。</p> <p><code>clientLeft</code>获取的是元素左边框的宽度。</p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/122d9b93070d491982a717ff9c2d4d6c~tplv-k3u1fbpfcp-watermark.image?" alt="WX20220310-101109.png"></p> <p>参看上面的例子</p> <ol><li><code>clientWidth</code> 为 <code>400px - 滚动条15px + 左右内边距20 = 405px</code></li> <li><code>clientHeight</code> 为 <code>200px - 滚动条15px + 上下内边距20 = 205px</code></li> <li><code>clientTop</code>为上边框高度<code>10px</code></li> <li><code>clientLeft</code>为左边框宽度<code>10px</code></li></ol> <h3 id="scroll"><a href="#scroll" class="header-anchor">#</a> scroll</h3> <p><code>scroll</code>可以简单理解为元素实际大小（可滚动大小）。</p> <h4 id="scrollwidth、scrollheight"><a href="#scrollwidth、scrollheight" class="header-anchor">#</a> scrollWidth、scrollHeight</h4> <p><code>scrollWidth</code>当元素没滚动条的时候和<code>clientWidth</code>一样，为可视宽度。当有滚动条的时候为可滚动的宽度。</p> <p><code>scrollHeight</code>当元素没滚动条的时候和<code>clientHeight</code>一样，为可视高度。当有滚动条的时候为可滚动的高度。</p> <h4 id="scrolltop、scrollleft"><a href="#scrolltop、scrollleft" class="header-anchor">#</a> scrollTop、scrollLeft</h4> <p><code>scrollTop</code>获取的是元素在 y 轴上滚动的距离。</p> <p><code>scrollLeft</code>获取的是元素在 x 轴上滚动的近距离。</p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9c1da5451fad48adb1a2c16798c44a49~tplv-k3u1fbpfcp-watermark.image?" alt="WX20220310-102331.png"></p> <p>参看上面的例子，我们在这里使用了<code>box1.scrollBy(20, 10);</code>模拟滚动。</p> <ol><li><code>scrollWidth</code> 为 <code>600px + 左右内边距20 = 620px</code></li> <li><code>scrollHeight</code> 为 <code>500px + 上下内边距20 = 520px</code></li> <li><code>clientTop</code> 为在 y 轴上滚动的距离<code>10px</code></li> <li><code>clientLeft</code> 为在 x 轴上滚动的近距离<code>20px</code></li></ol> <h3 id="offset"><a href="#offset" class="header-anchor">#</a> offset</h3> <p><code>offset</code>可以简单理解为元素占据大小（在文档中的占据空间大小）。</p> <h4 id="offsetwidth、offsetheight"><a href="#offsetwidth、offsetheight" class="header-anchor">#</a> offsetWidth、offsetHeight</h4> <p><code>offsetWidth</code> 宽度包含内边距（padding）、边框（border）、滚动条。不包含外边距（margin）。</p> <p><code>offsetHeight</code> 高度包含内边距（padding）、边框（border）、滚动条。不包含外边距（margin）。</p> <h4 id="offsetparent"><a href="#offsetparent" class="header-anchor">#</a> offsetParent</h4> <p><code>offsetParent</code>是一个只读属性，获得元素最近祖先元素。没找到就返回<code>body</code>元素，用于<code>offsetLeft</code>和<code>offsetTop</code>的计算。</p> <h4 id="offsetleft、offsetop"><a href="#offsetleft、offsetop" class="header-anchor">#</a> offsetLeft、offseTop</h4> <p><code>offsetLeft</code>相对<code>offsetParent</code>水平偏移距离。</p> <p><code>offseTop</code>相对<code>offsetParent</code>垂直偏移距离。</p> <p>参看上面的例子</p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7af6c479156043ffb31305d7220a46bd~tplv-k3u1fbpfcp-watermark.image?" alt="WX20220310-103646.png"></p> <ol><li><code>offsetWidth</code> 为 <code>400px - 滚动条15px + 滚动条15px + 左右内边距20 + 左右边框宽度20px = 440px</code></li> <li><code>offsetHeight</code> 为 <code>200px - 滚动条15px + 滚动条15px + 上下内边距20 + 上下边框宽度20px = 240px</code></li> <li><code>offsetParent</code> 因为外面没包裹其他元素，所以直接返回<code>body</code>元素。</li> <li><code>offsetTop</code> 因为<code>margin</code>为<code>20px</code>所以相对于<code>body</code>垂直偏移距离为<code>20px</code></li> <li><code>offsetLeft</code> 因为<code>margin</code>为<code>20px</code>所以相对于<code>body</code>水平偏移距离为<code>20px</code></li></ol> <h2 id="屏幕和窗口位置、大小计算"><a href="#屏幕和窗口位置、大小计算" class="header-anchor">#</a> 屏幕和窗口位置、大小计算</h2> <h3 id="screen"><a href="#screen" class="header-anchor">#</a> screen</h3> <p>屏幕相关属性的获取。</p> <h4 id="width、height"><a href="#width、height" class="header-anchor">#</a> width、height</h4> <p>这里 <code>screen.width、screen.height</code>获取的是电脑屏幕的宽度和高度，跟我们浏览器大小是无关的。</p> <h4 id="availwidth、availheight"><a href="#availwidth、availheight" class="header-anchor">#</a> availWidth、availHeight</h4> <p>这里 <code>screen.availWidth、screen.availHeight</code>获取的是电脑屏幕的实际宽度和实际高度，如果有任务栏是需要去掉的。跟我们浏览器大小是无关的。</p> <h3 id="window"><a href="#window" class="header-anchor">#</a> window</h3> <p>浏览器窗口相关属性的获取。</p> <h4 id="outerwidth、outerheight"><a href="#outerwidth、outerheight" class="header-anchor">#</a> outerWidth、outerHeight</h4> <p><code>outerWidth</code>返回的是浏览器整个的宽度，如果浏览器最大化的话和<code>screen.availWidth</code>值相等。</p> <p><code>outerHeight</code>返回的是浏览器整个的高度，如果浏览器最大化的话和<code>screen.availHeight</code>值相等。</p> <h4 id="innerwidth、innerheight"><a href="#innerwidth、innerheight" class="header-anchor">#</a> innerWidth、innerHeight</h4> <p><code>innerWidth</code>返回的是浏览器文档可视的宽度，只包括滚动条。</p> <p><code>innerHeight</code>返回的是浏览器文档可视的高度，只包括滚动条，不包括顶部的 tab、和书签栏。</p> <h4 id="screenx、screenleft"><a href="#screenx、screenleft" class="header-anchor">#</a> screenX、screenLeft</h4> <p><code>window.screenX、window.screenLeft</code>获取的是浏览器窗口左上角相对于屏幕左边框的距离。</p> <p>ie 不支持<code>window.screenX</code>火狐不支持<code>window.screenLeft</code></p> <h4 id="screeny、screentop"><a href="#screeny、screentop" class="header-anchor">#</a> screenY、screenTop</h4> <p><code>window.screenY、window.screenTop</code>获取的是浏览器窗口左上角相对于屏幕上边框的距离。</p> <p>ie 不支持<code>window.screenY</code>火狐不支持<code>window.screenTop</code></p> <h4 id="scrollx、scrolly"><a href="#scrollx、scrolly" class="header-anchor">#</a> scrollX、scrollY</h4> <p><code>window.scrollX</code>返回的是窗口在 x 轴上滚动的距离。</p> <p><code>window.scrollY</code>返回的是窗口在 y 轴上滚动的距离。</p> <h4 id="pagexoffset、pageyoffset"><a href="#pagexoffset、pageyoffset" class="header-anchor">#</a> pageXOffset、pageYOffset</h4> <p><code>window.pageXOffset</code>返回的是窗口在 x 轴上滚动的距离。</p> <p><code>window.pageYOffset</code>返回的是窗口在 y 轴上滚动的距离。</p> <p>注意：</p> <blockquote><p>这里<code>scrollX、scrollY、pageXOffset、pageYOffset</code>需要和上面的<code>scrollTop</code>、<code>scrollLeft</code>区分，这四个<code>api</code>只在<code>window</code>对象上有。</p></blockquote> <blockquote><p>相对于<code>scrollX</code>、<code>scrollY</code>，<code>pageXOffset</code>、<code>pageYOffset</code>兼容性更好，一般我们只用  <code>pageXOffset</code>、<code>pageYOffset</code>就行了。但两者都不兼容 IE9 以下。</p></blockquote> <h2 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h2> <p>有了上面的学习，下面我们来实现几个在日常开发中常见的小需求。</p> <h3 id="获取当前页面的滚动位置"><a href="#获取当前页面的滚动位置" class="header-anchor">#</a> 获取当前页面的滚动位置</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getScrollPosition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el <span class="token operator">=</span> window</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  x<span class="token operator">:</span> el<span class="token punctuation">.</span>pageXOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageXOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">,</span>
  y<span class="token operator">:</span> el<span class="token punctuation">.</span>pageYOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageYOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollTop<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getScrollPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {x: 0, y: 200}</span>
</code></pre></div><h3 id="检测页面是否滚动到页面底部"><a href="#检测页面是否滚动到页面底部" class="header-anchor">#</a> 检测页面是否滚动到页面底部</h3> <p><code>document.documentElement</code>获取的是根元素<code>html</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">bottomVisible</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> window<span class="token punctuation">.</span>pageYOffset <span class="token operator">&gt;=</span>
  <span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight <span class="token operator">||</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bottomVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="检查指定的元素在视口中是否全部可见"><a href="#检查指定的元素在视口中是否全部可见" class="header-anchor">#</a> 检查指定的元素在视口中是否全部可见</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">elementIsVisibleInViewport</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> top<span class="token punctuation">,</span> left<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> right <span class="token punctuation">}</span> <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> innerHeight<span class="token punctuation">,</span> innerWidth <span class="token punctuation">}</span> <span class="token operator">=</span> window<span class="token punctuation">;</span>
  <span class="token keyword">return</span> top <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> left <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> bottom <span class="token operator">&lt;=</span> innerHeight <span class="token operator">&amp;&amp;</span> right <span class="token operator">&lt;=</span> innerWidth<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">elementIsVisibleInViewport</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="后记"><a href="#后记" class="header-anchor">#</a> 后记</h2> <p>感谢小伙伴们的耐心观看，本文为笔者个人学习笔记，如有谬误，还请告知，万分感谢！如果本文对你有所帮助，还请点个关注点个赞~，您的支持是笔者不断更新的动力！</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/CSS/你必须掌握的css知识点和小技巧.html" class="prev">
        你必须掌握的css知识点和小技巧
      </a></span> <span class="next"><a href="/CSS/css布局方案汇总.html">
        css布局方案汇总
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9f47291f.js" defer></script><script src="/assets/js/2.3fe5eade.js" defer></script><script src="/assets/js/11.7c8892d0.js" defer></script>
  </body>
</html>
