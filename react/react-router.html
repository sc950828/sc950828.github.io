<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è·¯ç”±ä»‹ç» | è‹çº¯çš„åšå®¢</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/randy.jpg">
    <meta name="description" content="å‰ç«¯è·¯ä¸Šçš„ç‚¹ç‚¹æ»´æ»´">
    <meta name="keywords" content="è‹çº¯ï¼Œè‹çº¯çš„åšå®¢ï¼Œè‹çº¯çš„ä¸ªäººåšå®¢">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.be4efbe3.js" as="script"><link rel="preload" href="/assets/js/2.85e80f7c.js" as="script"><link rel="preload" href="/assets/js/45.6edc2aff.js" as="script"><link rel="prefetch" href="/assets/js/10.7682f909.js"><link rel="prefetch" href="/assets/js/100.239fc13e.js"><link rel="prefetch" href="/assets/js/101.9ed9d7eb.js"><link rel="prefetch" href="/assets/js/102.c7cae470.js"><link rel="prefetch" href="/assets/js/103.8c7cb082.js"><link rel="prefetch" href="/assets/js/104.8c2211c1.js"><link rel="prefetch" href="/assets/js/105.934c0656.js"><link rel="prefetch" href="/assets/js/106.0ee3f515.js"><link rel="prefetch" href="/assets/js/107.ed1b18fb.js"><link rel="prefetch" href="/assets/js/108.03e78ac8.js"><link rel="prefetch" href="/assets/js/109.fac50884.js"><link rel="prefetch" href="/assets/js/11.6854b37f.js"><link rel="prefetch" href="/assets/js/12.017b1433.js"><link rel="prefetch" href="/assets/js/13.7a7d9f16.js"><link rel="prefetch" href="/assets/js/14.a0ecad40.js"><link rel="prefetch" href="/assets/js/15.eb74cb12.js"><link rel="prefetch" href="/assets/js/16.9ed55949.js"><link rel="prefetch" href="/assets/js/17.3757d8ab.js"><link rel="prefetch" href="/assets/js/18.090fda16.js"><link rel="prefetch" href="/assets/js/19.c5cc9f8d.js"><link rel="prefetch" href="/assets/js/20.5106b69e.js"><link rel="prefetch" href="/assets/js/21.2e27cc71.js"><link rel="prefetch" href="/assets/js/22.d045f903.js"><link rel="prefetch" href="/assets/js/23.4b8706c2.js"><link rel="prefetch" href="/assets/js/24.d828a160.js"><link rel="prefetch" href="/assets/js/25.9207a2db.js"><link rel="prefetch" href="/assets/js/26.4dfe712f.js"><link rel="prefetch" href="/assets/js/27.5198e671.js"><link rel="prefetch" href="/assets/js/28.9fb3d91b.js"><link rel="prefetch" href="/assets/js/29.48dd22f8.js"><link rel="prefetch" href="/assets/js/3.88f7e165.js"><link rel="prefetch" href="/assets/js/30.604534e0.js"><link rel="prefetch" href="/assets/js/31.0670a7d6.js"><link rel="prefetch" href="/assets/js/32.855f67fe.js"><link rel="prefetch" href="/assets/js/33.b79b25bf.js"><link rel="prefetch" href="/assets/js/34.c70a6892.js"><link rel="prefetch" href="/assets/js/35.74e0fda4.js"><link rel="prefetch" href="/assets/js/36.2f9de622.js"><link rel="prefetch" href="/assets/js/37.2b0a90ff.js"><link rel="prefetch" href="/assets/js/38.88bba1cc.js"><link rel="prefetch" href="/assets/js/39.83d8f1a2.js"><link rel="prefetch" href="/assets/js/4.bc4e02d5.js"><link rel="prefetch" href="/assets/js/40.5f845ce9.js"><link rel="prefetch" href="/assets/js/41.9e101dea.js"><link rel="prefetch" href="/assets/js/42.81429d23.js"><link rel="prefetch" href="/assets/js/43.a0152773.js"><link rel="prefetch" href="/assets/js/44.c24a0d2f.js"><link rel="prefetch" href="/assets/js/46.84f91f82.js"><link rel="prefetch" href="/assets/js/47.d74aa8da.js"><link rel="prefetch" href="/assets/js/48.0d537105.js"><link rel="prefetch" href="/assets/js/49.1fa3e3a8.js"><link rel="prefetch" href="/assets/js/5.416fc629.js"><link rel="prefetch" href="/assets/js/50.7dc0b56b.js"><link rel="prefetch" href="/assets/js/51.e5deff21.js"><link rel="prefetch" href="/assets/js/52.12d5b95b.js"><link rel="prefetch" href="/assets/js/53.2d41c14c.js"><link rel="prefetch" href="/assets/js/54.df2bba05.js"><link rel="prefetch" href="/assets/js/55.e553b955.js"><link rel="prefetch" href="/assets/js/56.20b135c3.js"><link rel="prefetch" href="/assets/js/57.4779acfe.js"><link rel="prefetch" href="/assets/js/58.c4a9a2ec.js"><link rel="prefetch" href="/assets/js/59.a08c1c6a.js"><link rel="prefetch" href="/assets/js/6.3003f5cf.js"><link rel="prefetch" href="/assets/js/60.1e568467.js"><link rel="prefetch" href="/assets/js/61.950cd256.js"><link rel="prefetch" href="/assets/js/62.57068623.js"><link rel="prefetch" href="/assets/js/63.ad5124ed.js"><link rel="prefetch" href="/assets/js/64.f4906180.js"><link rel="prefetch" href="/assets/js/65.5b5060fc.js"><link rel="prefetch" href="/assets/js/66.d22f1a4c.js"><link rel="prefetch" href="/assets/js/67.5145dd1f.js"><link rel="prefetch" href="/assets/js/68.2f706221.js"><link rel="prefetch" href="/assets/js/69.646bcb95.js"><link rel="prefetch" href="/assets/js/7.bbe000a8.js"><link rel="prefetch" href="/assets/js/70.18d36584.js"><link rel="prefetch" href="/assets/js/71.fe38a363.js"><link rel="prefetch" href="/assets/js/72.ae401011.js"><link rel="prefetch" href="/assets/js/73.ec80648a.js"><link rel="prefetch" href="/assets/js/74.79d984a0.js"><link rel="prefetch" href="/assets/js/75.61b9a4e4.js"><link rel="prefetch" href="/assets/js/76.e375fdef.js"><link rel="prefetch" href="/assets/js/77.18994672.js"><link rel="prefetch" href="/assets/js/78.b7753063.js"><link rel="prefetch" href="/assets/js/79.2d1e62f1.js"><link rel="prefetch" href="/assets/js/8.3886c466.js"><link rel="prefetch" href="/assets/js/80.a6d9a892.js"><link rel="prefetch" href="/assets/js/81.c24ff49a.js"><link rel="prefetch" href="/assets/js/82.98d7ffd7.js"><link rel="prefetch" href="/assets/js/83.2d5ded66.js"><link rel="prefetch" href="/assets/js/84.15910826.js"><link rel="prefetch" href="/assets/js/85.36080baf.js"><link rel="prefetch" href="/assets/js/86.d69e8578.js"><link rel="prefetch" href="/assets/js/87.cc09b0dc.js"><link rel="prefetch" href="/assets/js/88.c9c3ae1b.js"><link rel="prefetch" href="/assets/js/89.75246598.js"><link rel="prefetch" href="/assets/js/9.7fa30ecf.js"><link rel="prefetch" href="/assets/js/90.be4eef2f.js"><link rel="prefetch" href="/assets/js/91.136839c8.js"><link rel="prefetch" href="/assets/js/92.e4b8ca92.js"><link rel="prefetch" href="/assets/js/93.23a5640d.js"><link rel="prefetch" href="/assets/js/94.0607e587.js"><link rel="prefetch" href="/assets/js/95.c6881e9d.js"><link rel="prefetch" href="/assets/js/96.d0144df1.js"><link rel="prefetch" href="/assets/js/97.fc4fd664.js"><link rel="prefetch" href="/assets/js/98.c641031d.js"><link rel="prefetch" href="/assets/js/99.11bf9344.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">è‹çº¯çš„åšå®¢</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide.html" class="nav-link">
  å¯¼èˆª
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸ªäººæ”¶è—" class="dropdown-title"><span class="title">ä¸ªäººæ”¶è—</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸ªäººæ”¶è—" class="mobile-dropdown-title"><span class="title">ä¸ªäººæ”¶è—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ä¸ªäººæ”¶è—/å¥½æ–‡ç« .html" class="nav-link">
  å¥½æ–‡ç« 
</a></li><li class="dropdown-item"><!----> <a href="/ä¸ªäººæ”¶è—/é¢è¯•å¥½æ–‡ç« .html" class="nav-link">
  é¢è¯•å¥½æ–‡ç« 
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sc950828" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide.html" class="nav-link">
  å¯¼èˆª
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸ªäººæ”¶è—" class="dropdown-title"><span class="title">ä¸ªäººæ”¶è—</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸ªäººæ”¶è—" class="mobile-dropdown-title"><span class="title">ä¸ªäººæ”¶è—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ä¸ªäººæ”¶è—/å¥½æ–‡ç« .html" class="nav-link">
  å¥½æ–‡ç« 
</a></li><li class="dropdown-item"><!----> <a href="/ä¸ªäººæ”¶è—/é¢è¯•å¥½æ–‡ç« .html" class="nav-link">
  é¢è¯•å¥½æ–‡ç« 
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sc950828" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/html5" class="sidebar-heading clickable"><span>html5</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/css3" class="sidebar-heading clickable"><span>css3</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js" class="sidebar-heading clickable"><span>js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/ts" class="sidebar-heading clickable"><span>ts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vue" class="sidebar-heading clickable"><span>vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/react" class="sidebar-heading clickable router-link-active open"><span>react</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/react.html" class="sidebar-link">react</a></li><li><a href="/react/hooks.html" class="sidebar-link">hooks</a></li><li><a href="/react/react-router.html" aria-current="page" class="active sidebar-link">react-router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react-router.html#è·¯ç”±ä»‹ç»" class="sidebar-link">è·¯ç”±ä»‹ç»</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#link" class="sidebar-link">Link</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#router" class="sidebar-link">Router</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#history" class="sidebar-link">history</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#match" class="sidebar-link">match</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#location" class="sidebar-link">location</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#withrouter" class="sidebar-link">withRouter</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#ä½¿ç”¨" class="sidebar-link">ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#åµŒå¥—è·¯ç”±" class="sidebar-link">åµŒå¥—è·¯ç”±</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#è‡ªå®šä¹‰é“¾æ¥" class="sidebar-link">è‡ªå®šä¹‰é“¾æ¥</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#è¿‡æ¸¡" class="sidebar-link">è¿‡æ¸¡</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#_404" class="sidebar-link">404</a></li><li class="sidebar-sub-header"><a href="/react/react-router.html#é‡å®šå‘" class="sidebar-link">é‡å®šå‘</a></li></ul></li><li><a href="/react/react-redux.html" class="sidebar-link">react-redux</a></li><li><a href="/react/reactå’Œvueå¯¹æ¯”.html" class="sidebar-link">reactå’Œvueå¯¹æ¯”</a></li><li><a href="/react/ç”Ÿå‘½å‘¨æœŸ.html" class="sidebar-link">ç”Ÿå‘½å‘¨æœŸ</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/æ„å»º" class="sidebar-heading clickable"><span>æ„å»º</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/webå®‰å…¨" class="sidebar-heading clickable"><span>webå®‰å…¨</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/æ€§èƒ½ä¼˜åŒ–" class="sidebar-heading clickable"><span>æ€§èƒ½ä¼˜åŒ–</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/app" class="sidebar-heading clickable"><span>app</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/git" class="sidebar-heading clickable"><span>git</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/è®¡ç®—æœº" class="sidebar-heading clickable"><span>è®¡ç®—æœº</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/æœåŠ¡å™¨" class="sidebar-heading clickable"><span>æœåŠ¡å™¨</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="è·¯ç”±ä»‹ç»"><a href="#è·¯ç”±ä»‹ç»" class="header-anchor">#</a> è·¯ç”±ä»‹ç»</h2> <p>react-router æ˜¯å®Œæ•´çš„ react çš„è·¯ç”±è§£å†³æ–¹æ¡ˆï¼Œå®ƒä¿æŒ UI ä¸ URL çš„åŒæ­¥ã€‚åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æœ€æ–°çš„ v4 ç‰ˆã€‚</p> <p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å¼€å‘ä¸­ä¸åº”è¯¥ç›´æ¥å®‰è£… react-routerï¼Œå› ä¸º ğŸ‘‰ï¼šåœ¨ v4 ç‰ˆä¸­ react-router è¢«æ‹†åˆ†æˆä¸‰ä¸ªåŒ…ï¼šreact-routerï¼Œreact-router-domï¼Œreact-router-nativeã€‚</p> <ul><li>react-routerï¼šæä¾›æ ¸å¿ƒçš„è·¯ç”±ç»„ä»¶å’Œå‡½æ•°ã€‚</li> <li>react-router-domï¼šæä¾›æµè§ˆå™¨ä½¿ç”¨çš„è·¯ç”±ç»„ä»¶å’Œå‡½æ•°ã€‚</li> <li>react-router-nativeï¼šæä¾› react-native å¯¹åº”å¹³å°ä½¿ç”¨çš„è·¯ç”±ç»„ä»¶å’Œå‡½æ•°ã€‚</li></ul> <p>v4 ç›¸æ¯”äº v1ã€v2ã€v3 å‡ ä¹æ˜¯é‡å†™äº†ï¼Œéµå¾ª Just Component çš„ API è®¾è®¡ç†å¿µã€‚ä¸»è¦å˜æ›´æœ‰ï¼šå£°æ˜å¼ã€å¯ç»„åˆ</p> <p>è¿›è¡Œç½‘ç«™ï¼ˆå°†ä¼šè¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼‰æ„å»ºï¼Œæˆ‘ä»¬åº”å½“å®‰è£… react-router-domã€‚å› ä¸º react-router-dom å·²ç»æš´éœ²å‡º react-router ä¸­æš´éœ²çš„å¯¹è±¡ä¸æ–¹æ³•ï¼Œå› æ­¤ä½ åªéœ€è¦å®‰è£…å¹¶å¼•ç”¨ react-router-dom å³å¯ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>React Router ä¸­çš„ç»„ä»¶ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼š
è·¯ç”±å™¨ï¼Œåƒ&lt;BrowserRouter&gt;å’Œ&lt;HashRouter&gt;
è·¯çº¿åŒ¹é…å™¨ï¼Œä¾‹å¦‚&lt;Route&gt;å’Œ&lt;Switch&gt;
å’Œå¯¼èˆªï¼Œå–œæ¬¢&lt;Link&gt;ï¼Œ&lt;NavLink&gt;å’Œ&lt;Redirect&gt;

å¯¹äºWebé¡¹ç›®ï¼Œreact-router-domæä¾›&lt;BrowserRouter&gt;å’Œ&lt;HashRouter&gt;è·¯ç”±å™¨ã€‚
ä¸¤è€…ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯å®ƒä»¬å­˜å‚¨URLå’Œä¸WebæœåŠ¡å™¨é€šä¿¡çš„æ–¹å¼ã€‚

&lt;BrowserRouter&gt;ä½¿ç”¨å¸¸è§„çš„URLè·¯å¾„ã€‚è¿™äº›é€šå¸¸æ˜¯å¤–è§‚æœ€å¥½çš„URLï¼Œä½†æ˜¯å®ƒä»¬è¦æ±‚æ­£ç¡®é…ç½®æœåŠ¡å™¨ã€‚
å…·ä½“æ¥è¯´ï¼Œæ‚¨çš„WebæœåŠ¡å™¨éœ€è¦åœ¨æ‰€æœ‰ç”±React Routerå®¢æˆ·ç«¯ç®¡ç†çš„URLä¸Šæä¾›ç›¸åŒçš„é¡µé¢ã€‚éœ€è¦é¢å¤–é…ç½®ã€‚

&lt;HashRouter&gt;å°†å½“å‰ä½ç½®å­˜å‚¨åœ¨URL çš„hashä¸€éƒ¨åˆ†ä¸­ï¼Œå› æ­¤URLçœ‹èµ·æ¥åƒhttp://example.com/#/your/pageã€‚
ç”±äºå“ˆå¸Œä»ä¸å‘é€åˆ°æœåŠ¡å™¨ï¼Œå› æ­¤è¿™æ„å‘³ç€ä¸éœ€è¦ç‰¹æ®Šçš„æœåŠ¡å™¨é…ç½®ã€‚

BrowserRouter
basename æ‰€æœ‰ä½ç½®çš„åŸºæœ¬URL
getUserConfirmationï¼šfunc ç”¨äºç¡®è®¤å¯¼èˆªçš„åŠŸèƒ½ã€‚é»˜è®¤ä½¿ç”¨window.confirmã€‚
forceRefreshï¼šå¸ƒå°” å¦‚æœtrueè·¯ç”±å™¨å°†ä½¿ç”¨æ•´é¡µåˆ·æ–°é¡µé¢å¯¼èˆªã€‚
keyLengthï¼šæ•°å­— location.keyçš„é•¿åº¦ã€‚é»˜è®¤ä¸º6ã€‚

HashRouter å“ˆå¸Œå†å²è®°å½•ä¸æ”¯æŒlocation.keyæˆ–location.stateã€‚è¿™ä¸ªæ˜¯ç”¨æ¥å…¼å®¹è€æµè§ˆå™¨çš„ï¼Œå»ºè®®ä½¿ç”¨BrowserRouter
basename æ‰€æœ‰ä½ç½®çš„åŸºæœ¬URL
getUserConfirmationï¼šfunc ç”¨äºç¡®è®¤å¯¼èˆªçš„åŠŸèƒ½ã€‚é»˜è®¤ä½¿ç”¨window.confirmã€‚
hashTypeï¼šå­—ç¬¦ä¸² ç¼–ç ç±»å‹window.location.hash é»˜è®¤slash
</code></pre></div><h2 id="link"><a href="#link" class="header-anchor">#</a> Link</h2> <div class="language- extra-class"><pre class="language-text"><code>Link
toå±æ€§
  æ¥å—pathå­—ç¬¦ä¸²ï¼Œ&lt;Link to=&quot;/a&quot; /&gt;
  æ¥å—å¯¹è±¡
  &lt;Link to={{
    pathname: '/courses',  // ä¼ é€’çš„pathname
    search: '?sort=name',  // ä¼ é€’çš„urlå‚æ•°
    hash: '#the-hash', // åœ¨urlå‚æ•°åé¢çš„hashå€¼
    state: { fromDashboard: true } // è‡ªå®šä¹‰å±æ€§å­˜åœ¨locationä¸­
  }}/&gt;
replaceï¼Œè®¾ç½®ä¸ºtrueï¼Œä¼šå–ä»£å½“å‰å†å²è®°å½•
innerRef è®¿é—®Linkæ ‡ç­¾çš„dom

NavLink
NavLinkå’ŒLinkä¸€æ ·æœ€ç»ˆéƒ½æ˜¯æ¸²æŸ“æˆaæ ‡ç­¾ï¼ŒNavLinkå¯ä»¥ç»™è¿™ä¸ªaæ ‡ç­¾æ·»åŠ é¢å¤–çš„å±æ€§
&lt;NavLink to=&quot;/a&quot;&gt;ç»„ä»¶ä¸€&lt;/NavLink&gt; å½“ç‚¹å‡»æ­¤è·¯ç”±ï¼Œaæ ‡ç­¾é»˜è®¤æ·»åŠ ä¸€ä¸ªåä¸ºactiveçš„class
å±æ€§
  activeClassName ç”¨äºè‡ªå®šä¹‰æ¿€æ´»aæ ‡ç­¾çš„class
  activeStyle ç”¨äºè®¾ç½®æ¿€æ´»aæ ‡ç­¾çš„æ ·å¼
    activeStyle={{
        fontWeight: 'bold',
        color: 'red'
    }}
  exactï¼Œå½“è·¯å¾„ç™¾åˆ†ç™¾åŒ¹é…çš„æ—¶å€™æ‰å±•ç¤ºæ ·å¼å’Œclassï¼Œä½†æ˜¯ä¸å½±å“è·¯ç”±çš„åŒ¹é…ï¼Œ&quot;/a&quot;å’Œ&quot;/a/&quot; æ˜¯ç›¸ç­‰çš„
  strictï¼Œè¿™ä¸ªæ¯”exactè¿˜å¾ˆï¼Œå°±ç®— &quot;/a&quot;å’Œ&quot;/a/&quot; ä¹Ÿæ˜¯ä¸ç›¸ç­‰çš„
  isActiveï¼Œæ­¤å±æ€§æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨æ¥åšè·³è½¬çš„æœ€åæ‹¦æˆª
    &lt;NavLink isActive={oddEvent} to=&quot;/a/123&quot;&gt;ç»„ä»¶ä¸€&lt;/NavLink&gt;
    const oddEvent = (match, location) =&gt; {
        if (!match) {
            return false
        }
        return true
    }
    matché‡Œé¢ä¿å­˜äº†è·¯ç”±åŒ¹é…ä¿¡æ¯çš„å‚æ•°ï¼Œæ˜¯åŠ¨æ€åŒ–çš„
    locationé‡Œé¢ä¿å­˜çš„Linkä¸­çš„toä¼ é€’çš„æ‰€æœ‰ä¿¡æ¯
  locationï¼Œæ­¤å‚æ•°ç”¨æ¥æ¥å—ä¸€ä¸ªlocationå¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡ä¿¡æ¯å’Œå½“å‰çš„locationä¿¡æ¯å¯¹è±¡åŒ¹é…åˆ™è·³è½¬
    &lt;NavLink to=&quot;/a/123&quot; location={{key:&quot;mb5wu3&quot;,pathname:&quot;/a/123&quot;}}/&gt;
</code></pre></div><h2 id="router"><a href="#router" class="header-anchor">#</a> Router</h2> <div class="language- extra-class"><pre class="language-text"><code>ä½çº§è·¯ç”±ï¼Œé€‚ç”¨äºä»»ä½•è·¯ç”±ç»„ä»¶ï¼Œä¸»è¦å’Œreduxæ·±åº¦é›†æˆï¼Œä½¿ç”¨å¿…é¡»é…åˆhistoryå¯¹è±¡
ä½¿ç”¨Routerè·¯ç”±çš„ç›®çš„æ˜¯å’ŒçŠ¶æ€ç®¡ç†åº“å¦‚reduxä¸­çš„historyåŒæ­¥å¯¹æ¥
import { Router } from 'react-router'
import { createBrowserHistory } from 'history/createBrowserHistory'
const history = createBrowserHistory();
&lt;Router history={history}&gt;
    ...
&lt;/Router&gt;
</code></pre></div><h3 id="route"><a href="#route" class="header-anchor">#</a> Route</h3> <div class="language- extra-class"><pre class="language-text"><code>Routeçš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ¸²æŸ“è·¯ç”±åŒ¹é…çš„ç»„ä»¶
è·¯ç”±æ¸²æŸ“æœ‰ä¸‰ç§æ–¹å¼ï¼Œæ¯ä¸€ç§æ–¹å¼éƒ½å¯ä»¥ä¼ é€’match,location,historyå¯¹è±¡
  component
    ç”¨æ¥æ¸²æŸ“ç»„ä»¶
    &lt;Route path=&quot;/a&quot; component={MyComponent1}&gt;&lt;/Route&gt;
  render
    ç”¨æ¥æ¸²æŸ“å‡½æ•°å¼ç»„ä»¶ï¼Œå¯ä»¥é˜²æ­¢é‡å¤æ¸²æŸ“ç»„ä»¶
    &lt;Route path=&quot;/b&quot; render={({match,location,history}) =&gt; {
      console.log(match,location,history);
      return &lt;div&gt;ç»„ä»¶äºŒ&lt;/div&gt;
    }}&gt;&lt;/Route&gt;
  children
    å’Œrenderå·®ä¸å¤šï¼Œä¸è¿‡å¯ä»¥ç”¨æ¥åŠ¨æ€çš„å±•ç¤ºç»„ä»¶
    å·®åˆ¥ä¹‹å¤„åœ¨äºï¼Œchildrenä¼šåœ¨è·¯å¾„ä¸åŒ¹é…çš„æ—¶å€™ä¹Ÿè°ƒç”¨å›è°ƒä»è€Œæ¸²æŸ“å‡½æ•°ï¼Œè€Œrenderåªä¼šåœ¨è·¯å¾„åŒ¹é…çš„æ—¶å€™è§¦å‘å›è°ƒ
    &lt;Route path=&quot;/b&quot; children={({match,location,history}) =&gt; {
      return (
        match ? &lt;div&gt;ç»„ä»¶äºŒ&lt;/div&gt;:&lt;div&gt;ç»„ä»¶äºŒäºŒ&lt;/div&gt;
      )
    }}&gt;&lt;/Route&gt;
å±æ€§
  pathï¼Œå­—ç¬¦ä¸²ï¼ŒåŒ¹é…çš„è·¯å¾„
  exactï¼Œå¸ƒå°”å€¼ï¼Œè·¯å¾„å®Œå…¨åŒ¹é…çš„æ—¶å€™è·³è½¬ &quot;/a/&quot;å’Œ&quot;/a&quot;æ˜¯ä¸€æ ·çš„
  strictï¼Œå¸ƒå°”å€¼ï¼Œå•ç‹¬ä½¿ç”¨å’Œæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªå±æ€§æ²¡æœ‰ä»»ä½•åŒºåˆ¥ï¼Œå¦‚æœå’Œexactä¸€èµ·ä½¿ç”¨å¯ä»¥æ„å»ºæ›´ä¸ºç²¾ç¡®çš„åŒ¹é…æ¨¡å¼ã€‚&quot;/a/&quot;å’Œ&quot;/a&quot;æ˜¯ä¸åŒçš„ã€‚
  sensitive æ˜¯å¦åŒºåˆ†pathçš„å¤§å°å†™
  locationï¼Œä¼ é€’routeå¯¹è±¡ï¼Œå’Œå½“å‰çš„routeå¯¹è±¡å¯¹æ¯”ï¼Œå¦‚æœåŒ¹é…åˆ™è·³è½¬ï¼Œå¦‚æœä¸åŒ¹é…åˆ™ä¸è·³è½¬ã€‚å¦å¤–ï¼Œå¦‚æœrouteåŒ…å«åœ¨swicthç»„ä»¶ä¸­ï¼Œå¦‚æœrouteçš„locationå’Œswitchçš„locationåŒ¹é…ï¼Œé‚£ä¹ˆrouteçš„locationä¼šè¢«switchçš„locationæ›¿ä»£
</code></pre></div><h2 id="history"><a href="#history" class="header-anchor">#</a> history</h2> <p>useHistory æŒ‚é’©ä½¿æ‚¨å¯ä»¥è®¿é—® history å¯ç”¨äºå¯¼èˆªçš„å®ä¾‹ã€‚åœ¨ç±»ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ this.props.history è®¿é—®</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æœ‰å¦‚ä¸‹å±æ€§å’Œæ–¹æ³•</span>
History <span class="token punctuation">{</span>
  length<span class="token operator">:</span> number<span class="token punctuation">;</span>
  action<span class="token operator">:</span> Action<span class="token punctuation">;</span>
  location<span class="token operator">:</span> Location<span class="token punctuation">;</span>
  <span class="token function">push</span><span class="token punctuation">(</span>path<span class="token operator">:</span> Path<span class="token punctuation">,</span> state<span class="token operator">?</span><span class="token operator">:</span> LocationState<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨pushå‰è¿›åˆ°ä¸€ä¸ªåœ°å€,å¯ä»¥æ¥å—ä¸€ä¸ªstateå¯¹è±¡ï¼Œå°±æ˜¯è‡ªå®šä¹‰çš„è·¯ç”±æ•°æ®</span>
  <span class="token function">push</span><span class="token punctuation">(</span>location<span class="token operator">:</span> LocationDescriptorObject<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// æ¥å—ä¸€ä¸ªlocationçš„æè¿°å¯¹è±¡</span>
  <span class="token function">replace</span><span class="token punctuation">(</span>path<span class="token operator">:</span> Path<span class="token punctuation">,</span> state<span class="token operator">?</span><span class="token operator">:</span> LocationState<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// ç”¨é¡µé¢æ›¿æ¢å½“å‰çš„è·¯å¾„ï¼Œä¸å¯å†goBack</span>
  <span class="token function">replace</span><span class="token punctuation">(</span>location<span class="token operator">:</span> LocationDescriptorObject<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// åŒä¸Š</span>
  <span class="token function">go</span><span class="token punctuation">(</span>n<span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// å¾€å‰èµ°å¤šå°‘ä¹Ÿé¡µé¢</span>
  <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›ä¸€ä¸ªé¡µé¢</span>
  <span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token comment">// å‰è¿›ä¸€ä¸ªé¡µé¢</span>
  <span class="token function">block</span><span class="token punctuation">(</span>prompt<span class="token operator">?</span><span class="token operator">:</span> boolean <span class="token operator">|</span> string <span class="token operator">|</span> TransitionPromptHook<span class="token punctuation">)</span><span class="token operator">:</span> UnregisterCallback<span class="token punctuation">;</span>
  <span class="token function">listen</span><span class="token punctuation">(</span>listener<span class="token operator">:</span> LocationListener<span class="token punctuation">)</span><span class="token operator">:</span> UnregisterCallback<span class="token punctuation">;</span>
  <span class="token function">createHref</span><span class="token punctuation">(</span>location<span class="token operator">:</span> LocationDescriptorObject<span class="token punctuation">)</span><span class="token operator">:</span> Href<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="match"><a href="#match" class="header-anchor">#</a> match</h2> <p>match å¯¹è±¡è¡¨ç¤ºå½“å‰çš„è·¯ç”±åœ°å€æ˜¯æ€ä¹ˆè·³è½¬è¿‡æ¥çš„ï¼ŒåŒ…å«çš„å±æ€§å¦‚ä¸‹</p> <p>params å‚æ•°æ˜¯è·¯å¾„åŠ¨æ€å‚æ•°ï¼Œé€šè¿‡ this.props.match.params.xx è·å–</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  isExact<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è¡¨ç¤ºåŒ¹é…åˆ°å½“å‰è·¯å¾„æ˜¯å¦æ˜¯å®Œå…¨åŒ¹é…</span>
  params<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// è¡¨ç¤ºè·¯å¾„çš„åŠ¨æ€å‚æ•°å€¼ this.props.match.params.xx</span>
  path<span class="token operator">:</span> <span class="token string">'/c'</span><span class="token punctuation">,</span> <span class="token comment">// åŒ¹é…åˆ°çš„åŸå§‹è·¯å¾„</span>
  url<span class="token operator">:</span> <span class="token string">'/c'</span> <span class="token comment">// åŒ¹é…åˆ°çš„å®é™…è·¯å¾„</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="location"><a href="#location" class="header-anchor">#</a> location</h2> <p>location å¯¹è±¡è¡¨ç¤ºå½“å‰çš„è·¯ç”±ä½ç½®ä¿¡æ¯ï¼Œä¸»è¦åŒ…å«å¦‚ä¸‹å±æ€§</p> <p>å¯ä»¥ç›´æ¥é€šè¿‡ this.props.location æˆ–è€… this.props.history.location è·å– location å¯¹è±¡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  hash<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  key<span class="token operator">:</span> <span class="token string">&quot;k9r4i3&quot;</span><span class="token punctuation">,</span>
  pathname<span class="token operator">:</span> <span class="token string">&quot;/c&quot;</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  search<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>state é‡Œé¢ æ˜¯é€šè¿‡ state ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œå¹¶ä¸”åˆ·æ–°ä¸ä¼šä¸¢å¤±</p> <div class="language-html extra-class"><pre class="language-html"><code>&lt;Link to={{pathname: '/Router2/1000', state: 'randy', search: '?age=26'}}&gt;goRouter2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="withrouter"><a href="#withrouter" class="header-anchor">#</a> withRouter</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å½“ä¸€ä¸ªéè·¯ç”±ç»„ä»¶ä¹Ÿæƒ³è®¿é—®åˆ°å½“å‰è·¯ç”±çš„match,location,historyå¯¹è±¡ï¼Œé‚£ä¹ˆwithRouterå°†æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> match<span class="token punctuation">,</span> location<span class="token punctuation">,</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> FirstTest <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="header-anchor">#</a> ä½¿ç”¨</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ ¹ç»„ä»¶ä½¿ç”¨ BrowserRouteråŒ…è£¹</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/hello&quot;</span><span class="token operator">&gt;</span>to hello<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/params/randy&quot;</span><span class="token operator">&gt;</span>to params name <span class="token operator">=</span> randy<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
<span class="token comment">// å½“&lt;Switch&gt;è¢«æ¸²æŸ“ï¼Œå®ƒä¼šæœç´¢å…¶children &lt;Route&gt;å†…å®¹æ‰¾åˆ°ä¸€ä¸ªå…¶pathå½“å‰çš„URLåŒ¹é…ã€‚</span>
<span class="token comment">// å½“æ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒå°†æ¸²æŸ“è¯¥å¯¹è±¡ï¼Œ&lt;Route&gt;è€Œå¿½ç•¥æ‰€æœ‰å…¶ä»–å¯¹è±¡ã€‚</span>
<span class="token comment">// è¿™æ„å‘³ç€æ‚¨åº”å°†&lt;Route&gt;çš„ç‰¹å®šæ€§æ›´é«˜ï¼ˆé€šå¸¸æ›´é•¿ï¼‰æ”¾åœ¨ä¸é‚£ä¹ˆç‰¹å®šçš„paths ä¹‹å‰ã€‚</span>
<span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/hello&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Hello<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/params/:name&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Params<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>

<span class="token comment">// å‚æ•°ä½¿ç”¨useParamsè·å–å‚æ•°</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>useParams<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>

<span class="token keyword">function</span> <span class="token function">Params</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨useParamsè·å–åˆ°å‚æ•°</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>params <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="header-anchor">#</a> åµŒå¥—è·¯ç”±</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> useRouteMatch<span class="token punctuation">,</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// éœ€è¦ç”¨åˆ°path url ä¹Ÿå¯ä»¥å†™æ­»ã€‚</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> path<span class="token punctuation">,</span> url <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRouteMatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      Parent
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span>url <span class="token operator">+</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>to hello <span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span>url <span class="token operator">+</span> <span class="token string">&quot;/child/randy&quot;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>to child<span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span>path <span class="token operator">+</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Hello<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span>path <span class="token operator">+</span> <span class="token string">&quot;/child/:name&quot;</span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Child<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="è‡ªå®šä¹‰é“¾æ¥"><a href="#è‡ªå®šä¹‰é“¾æ¥" class="header-anchor">#</a> è‡ªå®šä¹‰é“¾æ¥</h2> <p>å®é™…ä¸Šå°±æ˜¯å¯¹ Link ç»„ä»¶çš„å°è£…</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>CustomLink to<span class="token operator">=</span><span class="token string">&quot;/hello&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;to customlink&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>CustomLink<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">CustomLink</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> to<span class="token punctuation">,</span> label<span class="token punctuation">,</span> activeOnlyWhenExact <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">const</span> match <span class="token operator">=</span> <span class="token function">useRouteMatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    path<span class="token operator">:</span> to<span class="token punctuation">,</span>
    exact<span class="token operator">:</span> activeOnlyWhenExact<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>match <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span>to<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="è¿‡æ¸¡"><a href="#è¿‡æ¸¡" class="header-anchor">#</a> è¿‡æ¸¡</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Prompt <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">GuoDu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å‡½æ•°ç»„ä»¶æ²¡æœ‰çŠ¶æ€ åªèƒ½é€šè¿‡useStateè®¾ç½®state è¿”å›å˜é‡åå’Œä¿®æ”¹å˜é‡çš„æ–¹æ³•ï¼Œå‚æ•°æ˜¯å˜é‡çš„åˆå§‹å€¼</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>isBlocking<span class="token punctuation">,</span> setIsBlocking<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// return trueè¡¨ç¤ºå¯ä»¥ç›´æ¥è·³è½¬ï¼Œæ— éœ€éªŒè¯</span>
  <span class="token comment">// return 'ä½ å¥½'è¡¨ç¤ºè¦ç»™æç¤ºç»™ç”¨æˆ·çš„ä¿¡æ¯</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Prompt
      when<span class="token operator">=</span><span class="token punctuation">{</span>isBlocking<span class="token punctuation">}</span>
      message<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Are you sure you want to go to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>location<span class="token punctuation">.</span>pathname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> GuoDu<span class="token punctuation">;</span>
</code></pre></div><h2 id="_404"><a href="#_404" class="header-anchor">#</a> 404</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">All</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨useLocation()è·å–åˆ°locationå¯¹è±¡</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// pathname: &quot;/guodu1&quot;</span>
  <span class="token comment">// search: &quot;&quot;</span>
  <span class="token comment">// hash: &quot;&quot;</span>
  <span class="token comment">// state: undefined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>all <span class="token number">404</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> All<span class="token punctuation">;</span>

<span class="token comment">// Switch åªä¼šåŒ¹é…ä¸€ä¸ª åŒ¹é…åˆ°äº†å°±ä¸å¾€åé¢æ‰¾äº†</span>
<span class="token comment">// æ‰€ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹ç‚¹å°±å¯ä»¥å®ç°404</span>
<span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> exact component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/hello&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Hello<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;*&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>All<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="header-anchor">#</a> é‡å®šå‘</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Redirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// link to /redirecttestä¼šè¢«redirectåˆ°/helloé“¾æ¥ä¸Š æ‰€ä»¥ä¼šåŒ¹é…/helloçš„ç»„ä»¶</span>
<span class="token operator">&lt;</span>Route to<span class="token operator">=</span><span class="token string">&quot;/redirecttest&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">&quot;/hello&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Redirect<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// è·¯ç”±é‡å®šå‘</span>
<span class="token comment">// å±æ€§</span>
<span class="token comment">//   to</span>
<span class="token comment">//    å­—ç¬¦ä¸²ï¼Œè¦é‡å®šå‘çš„è·¯å¾„</span>
<span class="token comment">//    å¯¹è±¡ï¼Œlocationå¯¹è±¡</span>
<span class="token comment">//   pushï¼Œå¸ƒå°”å€¼ï¼Œæ˜¯å¦å°†å½“å‰è·¯å¾„å­˜åˆ°historyä¸­ï¼ˆæ˜¯Linkæ ‡ç­¾çš„toè·¯å¾„ï¼‰</span>
<span class="token comment">//   fromï¼Œç”¨æ¥æŒ‡å®šè·¯ç”±çš„åŸå§‹å€¼ï¼Œå¦‚æœä¸æ˜¯ç»™å®šçš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¸æ¸²æŸ“ï¼Œåä¹‹æ¸²æŸ“ï¼Œåªèƒ½ç”¨äºswitchç»„ä»¶ä¸­</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/react/hooks.html" class="prev">
        hooks
      </a></span> <span class="next"><a href="/react/react-redux.html">
        react-redux
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.be4efbe3.js" defer></script><script src="/assets/js/2.85e80f7c.js" defer></script><script src="/assets/js/45.6edc2aff.js" defer></script>
  </body>
</html>
