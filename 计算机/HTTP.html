<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http 是什么？ | 苏纯的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/randy.jpg">
    <meta name="description" content="前端路上的点点滴滴">
    <meta name="keywords" content="苏纯，苏纯的博客，苏纯的个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.beb814ca.js" as="script"><link rel="preload" href="/assets/js/2.85e80f7c.js" as="script"><link rel="preload" href="/assets/js/81.20b0c357.js" as="script"><link rel="prefetch" href="/assets/js/10.4e744a27.js"><link rel="prefetch" href="/assets/js/11.e096e1c1.js"><link rel="prefetch" href="/assets/js/12.b4e8f106.js"><link rel="prefetch" href="/assets/js/13.603ec4aa.js"><link rel="prefetch" href="/assets/js/14.79010745.js"><link rel="prefetch" href="/assets/js/15.1faf15d2.js"><link rel="prefetch" href="/assets/js/16.e2f93afb.js"><link rel="prefetch" href="/assets/js/17.d0b896cb.js"><link rel="prefetch" href="/assets/js/18.e85b16ce.js"><link rel="prefetch" href="/assets/js/19.fae0dc22.js"><link rel="prefetch" href="/assets/js/20.7023635c.js"><link rel="prefetch" href="/assets/js/21.0b28fb33.js"><link rel="prefetch" href="/assets/js/22.f933e41e.js"><link rel="prefetch" href="/assets/js/23.7e6df2bf.js"><link rel="prefetch" href="/assets/js/24.37c0b424.js"><link rel="prefetch" href="/assets/js/25.df33b5ce.js"><link rel="prefetch" href="/assets/js/26.2eb6d0f8.js"><link rel="prefetch" href="/assets/js/27.461a8904.js"><link rel="prefetch" href="/assets/js/28.c1eb8018.js"><link rel="prefetch" href="/assets/js/29.3c053582.js"><link rel="prefetch" href="/assets/js/3.32f21591.js"><link rel="prefetch" href="/assets/js/30.6aca0f4f.js"><link rel="prefetch" href="/assets/js/31.d1ad73d8.js"><link rel="prefetch" href="/assets/js/32.4dc07017.js"><link rel="prefetch" href="/assets/js/33.e9293f25.js"><link rel="prefetch" href="/assets/js/34.f30faa18.js"><link rel="prefetch" href="/assets/js/35.108cc1e1.js"><link rel="prefetch" href="/assets/js/36.6730c68d.js"><link rel="prefetch" href="/assets/js/37.c6afa3b9.js"><link rel="prefetch" href="/assets/js/38.b8eb4622.js"><link rel="prefetch" href="/assets/js/39.8087825b.js"><link rel="prefetch" href="/assets/js/4.bc4e02d5.js"><link rel="prefetch" href="/assets/js/40.a5f630b7.js"><link rel="prefetch" href="/assets/js/41.e52cb2c0.js"><link rel="prefetch" href="/assets/js/42.fe67e462.js"><link rel="prefetch" href="/assets/js/43.4e518d0c.js"><link rel="prefetch" href="/assets/js/44.b391857e.js"><link rel="prefetch" href="/assets/js/45.f92520c6.js"><link rel="prefetch" href="/assets/js/46.4a6d8ad0.js"><link rel="prefetch" href="/assets/js/47.16de574b.js"><link rel="prefetch" href="/assets/js/48.3add8430.js"><link rel="prefetch" href="/assets/js/49.4392530c.js"><link rel="prefetch" href="/assets/js/5.416fc629.js"><link rel="prefetch" href="/assets/js/50.37ef3701.js"><link rel="prefetch" href="/assets/js/51.8c09afc2.js"><link rel="prefetch" href="/assets/js/52.ba0a132f.js"><link rel="prefetch" href="/assets/js/53.6ffe2106.js"><link rel="prefetch" href="/assets/js/54.8bfd6bed.js"><link rel="prefetch" href="/assets/js/55.e1b43e4c.js"><link rel="prefetch" href="/assets/js/56.eed5413f.js"><link rel="prefetch" href="/assets/js/57.e3dbea5b.js"><link rel="prefetch" href="/assets/js/58.0ddb4408.js"><link rel="prefetch" href="/assets/js/59.11f72a67.js"><link rel="prefetch" href="/assets/js/6.3003f5cf.js"><link rel="prefetch" href="/assets/js/60.e46c4746.js"><link rel="prefetch" href="/assets/js/61.7419ea29.js"><link rel="prefetch" href="/assets/js/62.002b33b8.js"><link rel="prefetch" href="/assets/js/63.8fab45a3.js"><link rel="prefetch" href="/assets/js/64.736d6eb1.js"><link rel="prefetch" href="/assets/js/65.f51e0160.js"><link rel="prefetch" href="/assets/js/66.7f11695c.js"><link rel="prefetch" href="/assets/js/67.5081c114.js"><link rel="prefetch" href="/assets/js/68.2ee5268f.js"><link rel="prefetch" href="/assets/js/69.b073f4a6.js"><link rel="prefetch" href="/assets/js/7.bbe000a8.js"><link rel="prefetch" href="/assets/js/70.c9751902.js"><link rel="prefetch" href="/assets/js/71.d13578c5.js"><link rel="prefetch" href="/assets/js/72.e5a8a8ef.js"><link rel="prefetch" href="/assets/js/73.aed35405.js"><link rel="prefetch" href="/assets/js/74.d9c9e6a0.js"><link rel="prefetch" href="/assets/js/75.9d7c89fe.js"><link rel="prefetch" href="/assets/js/76.4ecc12df.js"><link rel="prefetch" href="/assets/js/77.07f0d789.js"><link rel="prefetch" href="/assets/js/78.48eeda6e.js"><link rel="prefetch" href="/assets/js/79.6d33d92f.js"><link rel="prefetch" href="/assets/js/8.1cd444a1.js"><link rel="prefetch" href="/assets/js/80.3bf0aebc.js"><link rel="prefetch" href="/assets/js/82.54eb1bf3.js"><link rel="prefetch" href="/assets/js/83.f9f8099d.js"><link rel="prefetch" href="/assets/js/84.e3dc815d.js"><link rel="prefetch" href="/assets/js/85.160452ae.js"><link rel="prefetch" href="/assets/js/9.a27be880.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">苏纯的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人收藏" class="dropdown-title"><span class="title">个人收藏</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人收藏" class="mobile-dropdown-title"><span class="title">个人收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/个人收藏/好文章.html" class="nav-link">
  好文章
</a></li><li class="dropdown-item"><!----> <a href="/个人收藏/面试好文章.html" class="nav-link">
  面试好文章
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sc950828" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人收藏" class="dropdown-title"><span class="title">个人收藏</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人收藏" class="mobile-dropdown-title"><span class="title">个人收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/个人收藏/好文章.html" class="nav-link">
  好文章
</a></li><li class="dropdown-item"><!----> <a href="/个人收藏/面试好文章.html" class="nav-link">
  面试好文章
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sc950828" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/html5" class="sidebar-heading clickable"><span>html5</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/css3" class="sidebar-heading clickable"><span>css3</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js" class="sidebar-heading clickable"><span>js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/ts" class="sidebar-heading clickable"><span>ts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/webpack" class="sidebar-heading clickable"><span>webpack</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/git" class="sidebar-heading clickable"><span>git</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/web安全" class="sidebar-heading clickable"><span>web安全</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/性能优化" class="sidebar-heading clickable"><span>性能优化</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vue" class="sidebar-heading clickable"><span>vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/计算机" class="sidebar-heading clickable open"><span>计算机</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/计算机/计算机网络.html" class="sidebar-link">计算机网络</a></li><li><a href="/计算机/HTTP.html" class="active sidebar-link">HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#http-是什么" class="sidebar-link">http 是什么？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#http-的特点是什么" class="sidebar-link">http 的特点是什么？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#连接模式" class="sidebar-link">连接模式</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#请求响应的组成" class="sidebar-link">请求响应的组成</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#请求行-响应行包括什么" class="sidebar-link">请求行 响应行包括什么？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#常见的请求头有什么" class="sidebar-link">常见的请求头有什么?</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#常见的响应头有什么" class="sidebar-link">常见的响应头有什么？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#常见的通用标头有什么" class="sidebar-link">常见的通用标头有什么？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#常见的实体标头有什么" class="sidebar-link">常见的实体标头有什么？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#状态码表示什么含义-列出一些常见的状态码" class="sidebar-link">状态码表示什么含义？列出一些常见的状态码？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#代理和网关" class="sidebar-link">代理和网关</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#cdn" class="sidebar-link">CDN</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#dns-协议" class="sidebar-link">DNS 协议</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#dns-解析步骤" class="sidebar-link">DNS 解析步骤</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#dns-优化" class="sidebar-link">DNS 优化</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#http-有哪些方法-分别有什么作用" class="sidebar-link">http 有哪些方法，分别有什么作用？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#get-和-post-有什么区别" class="sidebar-link">GET 和 POST 有什么区别？</a></li><li class="sidebar-sub-header"><a href="/计算机/HTTP.html#如何理解-uri" class="sidebar-link">如何理解 URI？</a></li></ul></li><li><a href="/计算机/HTTPS.html" class="sidebar-link">HTTPS</a></li><li><a href="/计算机/TCP和UDP.html" class="sidebar-link">TCP和UDP</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="http-是什么"><a href="#http-是什么" class="header-anchor">#</a> http 是什么？</h2> <ul><li>http 是超文本传输协议，它使用 TCP 作为传 输层协议，保证了数据传输的可靠性。属于网络层级中的应用层。</li> <li>http 默认端口 80，https 默认端口 443。</li></ul> <h2 id="http-的特点是什么"><a href="#http-的特点是什么" class="header-anchor">#</a> http 的特点是什么？</h2> <ol><li>无状态 就是 http 传输是没有记忆能力，第一次传送的数据如果第二次还要传的话，需要重新传。</li> <li>无连接 传送完数据之后就断开了连接。</li> <li>媒体独立 可以传送任何数据类型。</li></ol> <h2 id="连接模式"><a href="#连接模式" class="header-anchor">#</a> 连接模式</h2> <p>HTTP 有两种连接模式，一种是持续连接，一种非持续连接。非持续连接指的是服务器必须为每一个请求的对象建立和维护 一个全新的连接。持续连接下，TCP 连接默认不关闭，可以被多个请求复用。采用持续连接的好处是可以避免每次建立 TCP 连接三次握手时所花费的时间。在 HTTP1.0 以前使用的非持续的连接，但是可以在请求时，加上 Connection: keep-alive 来要求服务器不要关闭 TCP 连接。HTTP1.1 以后默认采用的是持续的连接。目前对于同一个域，大多数浏览器支持同时建立 6 个持久连接。</p> <h2 id="请求响应的组成"><a href="#请求响应的组成" class="header-anchor">#</a> 请求响应的组成</h2> <ul><li>请求行、请求头、空行、请求体</li> <li>状态行、响应头、空行、响应体</li></ul> <p>空行主要用来区分开头部和实体</p> <h2 id="请求行-响应行包括什么"><a href="#请求行-响应行包括什么" class="header-anchor">#</a> 请求行 响应行包括什么？</h2> <ul><li>请求行有协议版本 请求路径 请求方法</li> <li>状态行有协议版本 状态码 相应的状态信息(原因)</li></ul> <h2 id="常见的请求头有什么"><a href="#常见的请求头有什么" class="header-anchor">#</a> 常见的请求头有什么?</h2> <div class="language- extra-class"><pre><code>Accept 可以接受的数据类型
Accept-Charset 可接受的字符集
Accept-Language 可接受的响应内容语言列表
Accept-Encoding 告诉服务器，客户机支持的数据压缩格式。
Content-Type 请求参数的数据类型
Authorization HTTP授权的授权证书 一般我们用来存放token Authorization: Bearer QWxhZGRpbjpvcGVuIHNlc2FtZQ==
Connection 表示是否需要持久连接。（HTTP 1.1默认进行持久连接）
Host 请求服务器的域名及端口号(服务端)
Origin: 请求的来源域名和端口号 （跨域请求时，浏览器会自动带上这个头信息）
Referer: 当前发送请求的域名及端口号及参数，请求资源的完整URI(客户端)https:/localhost:8081/link?query=xxxxx
Remote Address 服务器ip和端口
Referrer-Policy（来源协议）用来规定什么情况下显示Referer字段及refer字段内显示多少信息。
Cookie cookie信息
User-Agent 浏览器的一些信息
Date 客户机通过这个头告诉服务器，客户机当前请求时间
Cache-Control 是否使用缓存 max-age no-cache no-store等等
If-Modify-Since 协商缓存标志 值等于上次响应的last-Modify的值
If-None-Match 协商缓存标志 值等于上次响应的ETag字符串

对 Accept 系列字段了解多少？

对于 Accept 系列字段的介绍分为四个部分: 数据格式、压缩方式、支持语言和字符集。
浏览器告知服务器自己对这四个部分想要收到特定类型的数据。

客户端接收数据想要的数据格式 Accept

- text： text/html, text/plain, text/css 等
- image: image/gif, image/jpeg, image/png 等
- audio/video: audio/mpeg, video/mp4 等
- application: application/json, application/javascript, application/pdf, application/octet-stream

客户端接收数据想要的数据压缩格式 Accept-Encoding

- gzip: 当今最流行的压缩格式
- deflate: 另外一种著名的压缩格式
- br: 一种专门为 HTTP 发明的压缩算法

客户端接收数据想要的语言类型 Accept-Language

- Accept-Language: zh-CN, zh, en

客户端就收数据想要的字符集 Accept-Charset

- Accept-Charset: charset=utf-8
</code></pre></div><h2 id="常见的响应头有什么"><a href="#常见的响应头有什么" class="header-anchor">#</a> 常见的响应头有什么？</h2> <div class="language- extra-class"><pre><code>Expires 是否强缓存 (老版本)是个将来的时间戳，有问题后来使用cache-control
Date 服务端发送资源时的服务器时间
Cache-Control 是否强缓存 他的max-age值表示在多少时间内有效
Content-Type 响应的数据类型
Content-Encoding 告诉浏览器数据压缩的格式
Access-Control-Allow-Origin 指定哪些域名可以访问服务器
Access-Control-Allow-Methods 哪些方法
Access-Control-Allow-Headers 哪些请求头
Last-Modified 是否协商缓存 是个时间戳 (老版本)有问题后来使用Etag，比如编辑了文件并没有改变东西会有问题
ETag 是否使用协商缓存 由服务端为每个文件生成唯一的字符
Set-Cookie: 服务端发送的cookie
</code></pre></div><h2 id="常见的通用标头有什么"><a href="#常见的通用标头有什么" class="header-anchor">#</a> 常见的通用标头有什么？</h2> <div class="language- extra-class"><pre><code>Date
Cache-Control
Connection
</code></pre></div><h2 id="常见的实体标头有什么"><a href="#常见的实体标头有什么" class="header-anchor">#</a> 常见的实体标头有什么？</h2> <div class="language- extra-class"><pre><code>Content-Length
Content-Language
Content-Encoding
</code></pre></div><h2 id="状态码表示什么含义-列出一些常见的状态码"><a href="#状态码表示什么含义-列出一些常见的状态码" class="header-anchor">#</a> 状态码表示什么含义？列出一些常见的状态码？</h2> <div class="language- extra-class"><pre><code>1xx 接收的请求正在处理
2xx 请求正常处理完毕
3xx 需要进行附加操作完成请求 比如重定向
4xx 服务端无法处理请求 客户端错误
5xx 服务端处理请求出错
</code></pre></div><ul><li>101 Switching Protocols。在 HTTP 升级为 WebSocket 的时候，如果服务器同意变更，就会发送状态码 101。</li> <li>200 成功 通常在响应体中放有数据。</li> <li>204 No Content 含义与 200 相同，但响应头后没有 body 数据。</li> <li>206 Partial Content 顾名思义，表示部分内容，它的使用场景为 HTTP 分块下载和断电续传，当然也会带上相应的响应头字段 Content-Range。</li> <li>301 永久重定向 比如你的网站从 HTTP 升级到了 HTTPS 了，以前的站点再也不用了，应当返回 301，这个时候浏览器默认会做缓存优化，在第二次访问的时候自动访问重定向的那个地址。而如果只是暂时不可用，那么直接返回 302 即可，和 301 不同的是，浏览器并不会做缓存优化。</li> <li>302 临时重定向 会改变请求方法 把 post 改为 get。</li> <li>307 临时重定向 不会改变请求方式</li> <li>304 Not Modified: 当协商缓存命中时会返回这个状态码。</li> <li>400 请求错误 客户端错误</li> <li>401 未授权</li> <li>403 请求被拒绝</li> <li>404 资源缺失找不到</li> <li>405 Method Not Allowed: 请求方法不被服务器端允许。</li> <li>408 Request Timeout: 服务器等待了太长时间。</li> <li>409 Conflict: 多个请求发生了冲突。</li> <li>413 Request Entity Too Large: 请求体的数据过大。</li> <li>414 Request-URI Too Long: 请求行里的 URI 太大。</li> <li>429 Too Many Request: 客户端发送的请求过多。</li> <li>431 Request Header Fields Too Large 请求头的字段内容太大。</li> <li>500 服务端错误</li> <li>501 Not Implemented: 表示客户端请求的功能还不支持。</li> <li>502 Bad Gateway: 服务器自身是正常的，但访问的时候出错了，啥错误咱也不知道。</li> <li>503 Service Unavailable: 表示服务器当前很忙，暂时无法响应服务</li></ul> <h2 id="代理和网关"><a href="#代理和网关" class="header-anchor">#</a> 代理和网关</h2> <h3 id="代理分为正向代理反向代理"><a href="#代理分为正向代理反向代理" class="header-anchor">#</a> 代理分为正向代理反向代理</h3> <p>正向代理</p> <ul><li>由客户端向代理服务器发出请求，并指定目标访问服务器，然后，代理服务器向源服务器转交需求，并将获得的内容返回给客户端客户端知道真正要请求的服务器，服务端不知道真实的客户端是谁。</li></ul> <p>反向代理</p> <ul><li>由客户端向代理服务器发出请求，代理服务器判断目标服务器，然后向目标服务器发送请求获取响应，然后把数据发送给客户端。对客户端来说并不知道真正的服务器是谁，把代理服务器当成服务器。反向代理器一般用来实现负载平衡。</li></ul> <p>常见代理服务器的作用</p> <ul><li>缓存代理。代理转发响应时 缓存代理会将数据缓存到自己的服务器上 下次请求来的时候直接将缓存的数据返回</li> <li>负载均衡。客户端的请求只会先到达代理服务器，后面到底有多少源服务器，IP 都是多少，客户端是不知道的。因此，这个代理服务器可以拿到这个请求之后，可以通过特定的算法分发给不同的源服务器，让各台源服务器的负载尽量平均。当然，这样的算法有很多，包括随机算法、轮询、一致性 hash、LRU(最近最少使用)等等。</li> <li>保障安全。利用心跳机制监控后台的服务器，一旦发现故障机就将其踢出集群。并且对于上下行的数据进行过滤，对非法 IP 限流，这些都是代理服务器的工作。</li> <li>透明代理 只负责转发请求和响应 不对数据进行操作</li></ul> <p>代理相关头部字段</p> <ul><li>Via 假如有一个客户端 -&gt; 代理 1 -&gt; 代理 2 -&gt; 源服务器的请求。在源服务器收到请求后，会在请求头拿到这个字段:Via: proxy_server1, proxy_server2。而源服务器响应时，最终在客户端会拿到这样的响应头:Via: proxy_server2, proxy_server1</li> <li>X-Forwarded-For 字面意思就是为谁转发, 它记录的是请求方的 IP 地址(注意，和 Via 区分开，X-Forwarded-For 记录的是请求方这一个 IP，这意味着每经过一个不同的代理，这个字段的名字都要变，从客户端到代理 1，这个字段是客户端的 IP，从代理 1 到代理 2，这个字段就变为了代理 1 的 IP。意味着代理必须解析 HTTP 请求头，然后修改，比直接转发数据性能下降。)。</li> <li>X-Real-IP 是一种获取用户真实 IP 的字段，不管中间经过多少代理，这个字段始终记录最初的客户端的 IP。相应的，还有 X-Forwarded-Host 和 X-Forwarded-Proto，分别记录客户端(注意哦，不包括代理)的域名和协议名。</li></ul> <h3 id="网关"><a href="#网关" class="header-anchor">#</a> 网关</h3> <p>网关会接收请求转发请求 接收响应转发响应 而且还能提供非 http 协议服务。</p> <h2 id="cdn"><a href="#cdn" class="header-anchor">#</a> CDN</h2> <p>CDN 全称为内容分发网络 (Content Delivery Network)，它能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上，以提高用户访问网站的相应速度。</p> <p>使用 CDN 的缺陷是需要注意缓存。修改可能不会立即生效，需要刷新缓存。</p> <p>分发服务系统</p> <p>分发服务系统的基元是 Cache 设备，它会同步源站点的内容并负责响应用户的访问请求，把缓存在本地的内容快速的提供给用户。</p> <p>负载均衡系统</p> <p>对发起请求的用户进行访问调度，确定提供给用户的最终实际访问地址。该系统分为全局负载均衡 (GSLB) 和本地负载均衡 (SLB)。GBLB 主要根据“就近原则”，通过对每个服务节点进行最优判断，向用户提供最合适的 Cache 设备。SLB 主要负责节点内部的设备负载均衡。</p> <p>CDN 厂商做域名解析，它也是利用 DNS 的重定向技术，DNS 服务器会返回一个跟用户最接近的点的 IP 地址给用户，CDN 节点的服务器负责响应用户的请求，提供所需的内容，CDN 厂商的域名解析服务器用户量多，被访问的次数也多，域名解析服务器的 A 记录基本上会被各地运营商的 DNS 一直缓存着，所以服务效果也是最好的。</p> <h2 id="dns-协议"><a href="#dns-协议" class="header-anchor">#</a> DNS 协议</h2> <p>DNS 协议提供的是一种域名到 IP 地址的转换服务，就是我们常说的域名系统。它是一个由分层的 DNS 服务器组成的分布式数据库，是定义了主机如何查询这个分布式数据库的方式的应用层协议。DNS 协议运行在 UDP 协议之上，使用 53 号 端口。</p> <p>www.qq.com. 来说，等等，是不是多打了一个点，当然不是多打，这个最后的 . 代表的是根域名，默认情况下所有的网址的最后一位都是 .，只不过为了方便用户，通常都会省略，浏览器在 DNS 解析 时会自动加上的，com 是顶级域名，qq 是二级域名，www 是三级域名，如果 www 前还有，那就四级等等。</p> <h3 id="顶级域"><a href="#顶级域" class="header-anchor">#</a> 顶级域</h3> <p>顶级域分为国家顶级域和通用顶级域</p> <p>国家顶级域有 cn、us、uk、ca 等</p> <p>通用顶级域有 com、net、gov、org 等</p> <h3 id="二级域"><a href="#二级域" class="header-anchor">#</a> 二级域</h3> <p>常见的有 aliyun、qq、taobao、baidu、google、alibaba 等</p> <h2 id="dns-解析步骤"><a href="#dns-解析步骤" class="header-anchor">#</a> DNS 解析步骤</h2> <ol><li><p>系统会检查浏览器缓存中有没有这个域名对应的解析过的 IP 地址，如果缓存中有，这个解析过程就将结束。浏览器缓存是受这个域名的失效时间和缓存的空间大小控制的。</p></li> <li><p>如果用户的浏览器缓存中没有，浏览器会查找操作系统缓存中即为本地的 Host 文件。</p></li> <li><p>检查路由器缓存</p></li> <li><p>如果前几步都没没找到，会向 ISP(网络服务提供商)的 LDNS（本地服务器）查询。比如你用的是电信的网络，则会进入电信的 DNS 缓存服务器中进行查找</p></li></ol> <p>如果 LDNS （本地服务器）没找到，会向根域名服务器(Root Server)请求解析，分为以下几步：</p> <ul><li>根域名服务器收到请求后会查看区域文件记录，若无则将其管辖范围内顶级域名 ( .com ) 服务器 IP 告诉本地域名服务器，然后本地域名服务器发送请求到顶级域名服务器。</li> <li>顶级域名服务器收到请求后查看区域文件记录，若无则将其管辖范围内主域名（ qq.com ）服务器的 IP 地址告诉本地域名服务器，然后本地域名服务器发送请求到二级域名服务器。</li> <li>二级域名服务器接受到请求后查询自己的缓存，如果没有则进入三级域名服务器（ www.qq.com ）进行查找，并重复该步骤直至找到正确纪录</li> <li>本地域名服务器把返回的结果保存到缓存，以备下一次使用，同时将该结果反馈给客户端，客户端通过这个 IP 地址与 Web 服务器建立链接。</li></ul> <h2 id="dns-优化"><a href="#dns-优化" class="header-anchor">#</a> DNS 优化</h2> <p>我们购买域名做域名解析时，有一个 TTL 值，这个值表示 DNS 服务器解析域名时记录在 DNS 服务器上的缓存时间。可以将其设置大一点，一般设置 TTL 3600 即可。</p> <h2 id="http-有哪些方法-分别有什么作用"><a href="#http-有哪些方法-分别有什么作用" class="header-anchor">#</a> http 有哪些方法，分别有什么作用？</h2> <div class="language- extra-class"><pre><code>http1.0
  get  获取数据
  post 新增数据
  head 获取响应头，使用场景是请求可能是大文件的时候，先发送head请求判断资源大小是否能下载。
http1.1
  put  更新 全部更新
  patch 更新，部分更新
  delete 删除
  options 询问，获取目的资源所支持的通信选项。非简单请求在跨域的时候会发送该请求。
  trace 回显服务器收到的请求，主要用于测试或诊断
  connect HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器
</code></pre></div><h2 id="get-和-post-有什么区别"><a href="#get-和-post-有什么区别" class="header-anchor">#</a> GET 和 POST 有什么区别？</h2> <ol><li>从缓存的角度，GET 请求会被浏览器主动缓存下来，留下历史记录，而 POST 默认不会。</li> <li>从编码的角度，GET 只能进行 URL 编码，只能接收 ASCII 字符，而 POST 没有限制。</li> <li>从参数的角度，GET 一般放在 URL 中，因此不安全，POST 放在请求体中，更适合传输敏感信息。</li> <li>从幂等性的角度，GET 是幂等的，而 POST 不是。(幂等表示执行相同的操作，结果也是相同的)</li> <li>从 TCP 的角度，GET 请求会把请求报文一次性发出去，而 POST 会分为两个 TCP 数据包，首先发 header 部分，如果服务器响应 100(continue)， 然后发 body 部分。(火狐浏览器除外，它的 POST 请求只发一个 TCP 包)</li></ol> <h2 id="如何理解-uri"><a href="#如何理解-uri" class="header-anchor">#</a> 如何理解 URI？</h2> <p>URI, 全称为(Uniform Resource Identifier), 也就是统一资源标识符，它的作用很简单，就是区分互联网上不同的资源。</p> <p>但是，它并不是我们常说的网址, 网址指的是 URL, 实际上 URI 包含了 URN 和 URL 两个部分，由于 URL 过于普及，就默认将 URI 视为 URL 了。</p> <p>URI 的结构</p> <p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/22/170ffd677629b70d~tplv-t2oaga2asx-image.image" alt="image"></p> <p>URI 编码</p> <p>URI 只能使用 ASCII, ASCII 之外的字符是不支持显示的，而且还有一部分符号是界定符，如果不加以处理就会导致解析出错。</p> <p>因此，URI 引入了编码机制，将所有非 ASCII 码字符和界定符转为十六进制字节值，然后在前面加个%。例如空格被转义成了%20</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/计算机/计算机网络.html" class="prev">
        计算机网络
      </a></span> <span class="next"><a href="/计算机/HTTPS.html">
        HTTPS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.beb814ca.js" defer></script><script src="/assets/js/2.85e80f7c.js" defer></script><script src="/assets/js/81.20b0c357.js" defer></script>
  </body>
</html>
