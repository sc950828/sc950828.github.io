<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>原生开发 | 苏纯的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/randy.jpg">
    <meta name="description" content="前端路上的点点滴滴">
    <meta name="keywords" content="苏纯，苏纯的博客，苏纯的个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.485d83a3.js" as="script"><link rel="preload" href="/assets/js/2.85e80f7c.js" as="script"><link rel="preload" href="/assets/js/10.2cc7c1b7.js" as="script"><link rel="prefetch" href="/assets/js/11.5576952a.js"><link rel="prefetch" href="/assets/js/12.cbc6050f.js"><link rel="prefetch" href="/assets/js/13.3eede3b1.js"><link rel="prefetch" href="/assets/js/14.e2bc046e.js"><link rel="prefetch" href="/assets/js/15.94510f86.js"><link rel="prefetch" href="/assets/js/16.51993914.js"><link rel="prefetch" href="/assets/js/17.fdab191d.js"><link rel="prefetch" href="/assets/js/18.6952ef03.js"><link rel="prefetch" href="/assets/js/19.66a682be.js"><link rel="prefetch" href="/assets/js/20.f1e52e83.js"><link rel="prefetch" href="/assets/js/21.d299cc10.js"><link rel="prefetch" href="/assets/js/22.d045f903.js"><link rel="prefetch" href="/assets/js/23.4b8706c2.js"><link rel="prefetch" href="/assets/js/24.d828a160.js"><link rel="prefetch" href="/assets/js/25.9207a2db.js"><link rel="prefetch" href="/assets/js/26.2dcc1d8f.js"><link rel="prefetch" href="/assets/js/27.5198e671.js"><link rel="prefetch" href="/assets/js/28.9fb3d91b.js"><link rel="prefetch" href="/assets/js/29.4895864d.js"><link rel="prefetch" href="/assets/js/3.0d56241f.js"><link rel="prefetch" href="/assets/js/30.604534e0.js"><link rel="prefetch" href="/assets/js/31.0670a7d6.js"><link rel="prefetch" href="/assets/js/32.855f67fe.js"><link rel="prefetch" href="/assets/js/33.b79b25bf.js"><link rel="prefetch" href="/assets/js/34.c70a6892.js"><link rel="prefetch" href="/assets/js/35.74e0fda4.js"><link rel="prefetch" href="/assets/js/36.2f9de622.js"><link rel="prefetch" href="/assets/js/37.2b0a90ff.js"><link rel="prefetch" href="/assets/js/38.381f7cc5.js"><link rel="prefetch" href="/assets/js/39.fe1c3601.js"><link rel="prefetch" href="/assets/js/4.bc4e02d5.js"><link rel="prefetch" href="/assets/js/40.be8bd2f8.js"><link rel="prefetch" href="/assets/js/41.e64c0f3c.js"><link rel="prefetch" href="/assets/js/42.257c2e84.js"><link rel="prefetch" href="/assets/js/43.17261715.js"><link rel="prefetch" href="/assets/js/44.d391c1f2.js"><link rel="prefetch" href="/assets/js/45.0c137789.js"><link rel="prefetch" href="/assets/js/46.6035c17c.js"><link rel="prefetch" href="/assets/js/47.31ac5107.js"><link rel="prefetch" href="/assets/js/48.eada62a3.js"><link rel="prefetch" href="/assets/js/49.18d3454e.js"><link rel="prefetch" href="/assets/js/5.416fc629.js"><link rel="prefetch" href="/assets/js/50.d7cb8827.js"><link rel="prefetch" href="/assets/js/51.efb488af.js"><link rel="prefetch" href="/assets/js/52.f8a52aa6.js"><link rel="prefetch" href="/assets/js/53.bee321d3.js"><link rel="prefetch" href="/assets/js/54.b0022483.js"><link rel="prefetch" href="/assets/js/55.d44d321c.js"><link rel="prefetch" href="/assets/js/56.6b04e68f.js"><link rel="prefetch" href="/assets/js/57.81d28090.js"><link rel="prefetch" href="/assets/js/58.c801aea0.js"><link rel="prefetch" href="/assets/js/59.8f88dc71.js"><link rel="prefetch" href="/assets/js/6.3003f5cf.js"><link rel="prefetch" href="/assets/js/60.48bdd9e7.js"><link rel="prefetch" href="/assets/js/61.c760a138.js"><link rel="prefetch" href="/assets/js/62.eb8a4066.js"><link rel="prefetch" href="/assets/js/63.19bcb255.js"><link rel="prefetch" href="/assets/js/64.a9344129.js"><link rel="prefetch" href="/assets/js/65.84e36675.js"><link rel="prefetch" href="/assets/js/66.429a8d48.js"><link rel="prefetch" href="/assets/js/67.d0bbcf1d.js"><link rel="prefetch" href="/assets/js/68.48dbb2b2.js"><link rel="prefetch" href="/assets/js/69.f7712d70.js"><link rel="prefetch" href="/assets/js/7.bbe000a8.js"><link rel="prefetch" href="/assets/js/70.578ef16e.js"><link rel="prefetch" href="/assets/js/71.7322cbaf.js"><link rel="prefetch" href="/assets/js/72.928e34c9.js"><link rel="prefetch" href="/assets/js/73.64f85f27.js"><link rel="prefetch" href="/assets/js/74.4964f4cc.js"><link rel="prefetch" href="/assets/js/75.1488aa47.js"><link rel="prefetch" href="/assets/js/76.655a032e.js"><link rel="prefetch" href="/assets/js/77.1312c78f.js"><link rel="prefetch" href="/assets/js/78.aa406eb5.js"><link rel="prefetch" href="/assets/js/79.43926bbf.js"><link rel="prefetch" href="/assets/js/8.3886c466.js"><link rel="prefetch" href="/assets/js/80.f32299f2.js"><link rel="prefetch" href="/assets/js/81.2a412648.js"><link rel="prefetch" href="/assets/js/82.c449bacb.js"><link rel="prefetch" href="/assets/js/83.d35638b7.js"><link rel="prefetch" href="/assets/js/84.8bccfec7.js"><link rel="prefetch" href="/assets/js/85.6e597cd0.js"><link rel="prefetch" href="/assets/js/86.1809e6d4.js"><link rel="prefetch" href="/assets/js/87.113e3aa5.js"><link rel="prefetch" href="/assets/js/88.ffbd91f2.js"><link rel="prefetch" href="/assets/js/89.a9d0782a.js"><link rel="prefetch" href="/assets/js/9.ca7f7cc1.js"><link rel="prefetch" href="/assets/js/90.6845254d.js"><link rel="prefetch" href="/assets/js/91.639afeaf.js"><link rel="prefetch" href="/assets/js/92.b07ce9fd.js"><link rel="prefetch" href="/assets/js/93.48bda435.js"><link rel="prefetch" href="/assets/js/94.40c7887a.js"><link rel="prefetch" href="/assets/js/95.3afb7e30.js"><link rel="prefetch" href="/assets/js/96.2ee050e1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">苏纯的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人收藏" class="dropdown-title"><span class="title">个人收藏</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人收藏" class="mobile-dropdown-title"><span class="title">个人收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/个人收藏/好文章.html" class="nav-link">
  好文章
</a></li><li class="dropdown-item"><!----> <a href="/个人收藏/面试好文章.html" class="nav-link">
  面试好文章
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sc950828" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide.html" class="nav-link">
  导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人收藏" class="dropdown-title"><span class="title">个人收藏</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人收藏" class="mobile-dropdown-title"><span class="title">个人收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/个人收藏/好文章.html" class="nav-link">
  好文章
</a></li><li class="dropdown-item"><!----> <a href="/个人收藏/面试好文章.html" class="nav-link">
  面试好文章
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sc950828" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/html5" class="sidebar-heading clickable"><span>html5</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/css3" class="sidebar-heading clickable"><span>css3</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js" class="sidebar-heading clickable"><span>js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/ts" class="sidebar-heading clickable"><span>ts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/git" class="sidebar-heading clickable"><span>git</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/构建" class="sidebar-heading clickable"><span>构建</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/web安全" class="sidebar-heading clickable"><span>web安全</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/性能优化" class="sidebar-heading clickable"><span>性能优化</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vue" class="sidebar-heading clickable"><span>vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/计算机" class="sidebar-heading clickable"><span>计算机</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/app" class="sidebar-heading clickable router-link-active open"><span>app</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/app/移动开发简介.html" class="active sidebar-link">移动开发简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/app/移动开发简介.html#原生开发" class="sidebar-link">原生开发</a></li><li class="sidebar-sub-header"><a href="/app/移动开发简介.html#跨平台技术" class="sidebar-link">跨平台技术</a></li><li class="sidebar-sub-header"><a href="/app/移动开发简介.html#多端开发" class="sidebar-link">多端开发</a></li></ul></li><li><a href="/app/Hybrid.html" class="sidebar-link">Hybrid</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="原生开发"><a href="#原生开发" class="header-anchor">#</a> 原生开发</h2> <p>原生应用程序是指某一个移动平台（比如 iOS 或安卓）所特有的应用，使用相应平台支持的开发工具和语言，并直接调用系统提供的 SDK API。比如 Android 原生应用就是指使用 Java 或 Kotlin 语言直接调用 Android SDK 开发的应用程序；而 iOS 原生应用就是指通过 Objective-C 或 Swift 语言直接调用 iOS SDK 开发的应用程序。</p> <p>原生开发有以下主要优势：</p> <ol><li>可访问平台全部功能（GPS、摄像头）；</li> <li>速度快、性能高、可以实现复杂动画及绘制，整体用户体验好；</li></ol> <p>主要缺点：</p> <ol><li>平台特定，开发成本高；不同平台必须维护不同代码，人力成本随之变大；</li> <li>内容固定，动态化弱，大多数情况下，有新功能更新时只能发版；</li></ol> <p>在移动互联网发展初期，业务场景并不复杂，原生开发还可以应对产品需求迭代。 但近几年，随着物联网时代到来、移动互联网高歌猛进，日新月异，在很多业务场景中，传统的纯原生开发已经不能满足日益增长的业务需求。</p> <p>主要表现在：</p> <ol><li><p>动态化内容需求增大；当需求发生变化时，纯原生应用需要通过版本升级来更新内容，但应用上架、审核是需要周期的，这对高速变化的互联网时代来说是很难接受的，所以，对应用动态化(不发版也可以更新应用内容)的需求就变的迫在眉睫。</p></li> <li><p>业务需求变化快，开发成本变大；由于原生开发一般都要维护 Android、iOS 两个开发团队，版本迭代时，无论人力成本，还是测试成本都会变大。</p></li></ol> <p>总结一下，纯原生开发主要面临动态化和开发成本两个问题，而针对这两个问题，诞生了一些跨平台的动态化框架。</p> <h2 id="跨平台技术"><a href="#跨平台技术" class="header-anchor">#</a> 跨平台技术</h2> <p>针对原生开发面临问题，人们一直都在努力寻找好的解决方案，而时至今日，已经有很多跨平台框架(注意，本书中所指的“跨平台”若无特殊说明，即特指 Android 和 iOS 两个平台)，根据其原理，主要分为三类：</p> <ol><li>H5+原生（Cordova、Ionic、微信小程序）</li> <li>JavaScript 开发+原生渲染 （React Native、Weex、快应用）</li> <li>自绘 UI+原生(QT for mobile、Flutter)</li></ol> <h3 id="hybrid-技术简介"><a href="#hybrid-技术简介" class="header-anchor">#</a> Hybrid 技术简介</h3> <p>H5+原生混合开发</p> <p>这类框架主要原理就是将 APP 的一部分需要动态变动的内容通过 H5 来实现，通过原生的网页加载控件 WebView (Android)或 WKWebView（iOS）来加载（以后若无特殊说明，我们用 WebView 来统一指代 android 和 iOS 中的网页加载控件）。这样以来，H5 部分是可以随时改变而不用发版，动态化需求能满足；同时，由于 h5 代码只需要一次开发，就能同时在 Android 和 iOS 两个平台运行，这也可以减小开发成本，也就是说，H5 部分功能越多，开发成本就越小。我们称这种 h5+原生的开发模式为混合开发 ，采用混合模式开发的 APP 我们称之为混合应用或 Hybrid APP ，如果一个应用的大多数功能都是 H5 实现的话，我们称其为 Web APP 。</p> <p>目前混合开发框架的典型代表有：Cordova、Ionic 和微信小程序，值得一提的是微信小程序目前是在 webview 中渲染的，并非原生渲染，但将来有可能会采用原生渲染。</p> <p>混合开发技术点</p> <p>如之前所述，原生开发可以访问平台所有功能，而混合开发中，H5 代码是运行在 WebView 中，而 WebView 实质上就是一个浏览器内核，其 JavaScript 依然运行在一个权限受限的沙箱中，所以对于大多数系统能力都没有访问权限，如无法访问文件系统、不能使用蓝牙等。所以，对于 H5 不能实现的功能，都需要原生去做。而混合框架一般都会在原生代码中预先实现一些访问系统能力的 API， 然后暴露给 WebView 以供 JavaScript 调用，这样一来，WebView 就成为了 JavaScript 与原生 API 之间通信的桥梁，主要负责 JavaScript 与原生之间传递调用消息，而消息的传递必须遵守一个标准的协议，它规定了消息的格式与含义，我们把依赖于 WebView 的用于在 JavaScript 与原生之间通信并实现了某种消息传输协议的工具称之为 WebView JavaScript Bridge, 简称 JsBridge，它也是混合开发框架的核心。</p> <p>总结</p> <p>混合应用的优点是动态内容是 H5，web 技术栈，社区及资源丰富，缺点是性能不好，对于复杂用户界面或动画，WebView 不堪重任。</p> <h3 id="react-native、weex"><a href="#react-native、weex" class="header-anchor">#</a> React Native、Weex</h3> <p>React Native</p> <p>React Native (简称 RN)是 Facebook 于 2015 年 4 月开源的跨平台移动应用开发框架，是 Facebook 早先开源的 JS 框架 React 在原生移动应用平台的衍生产物，目前支持 iOS 和 Android 两个平台。RN 使用 Javascript 语言，类似于 HTML 的 JSX，以及 CSS 来开发移动应用，因此熟悉 Web 前端开发的技术人员只需很少的学习就可以进入移动应用开发领域。</p> <p>React 中虚拟 DOM 最终会映射为浏览器 DOM 树，而 RN 中虚拟 DOM 会通过 JavaScriptCore 映射为原生控件树。</p> <p>JavaScriptCore 是一个 JavaScript 解释器，它在 React Native 中主要有两个作用：</p> <ol><li>为 JavaScript 提供运行环境。</li> <li>是 JavaScript 与原生应用之间通信的桥梁，作用和 JsBridge 一样，事实上，在 iOS 中，很多 JsBridge 的实现都是基于 JavaScriptCore 。</li></ol> <p>而 RN 中将虚拟 DOM 映射为原生控件的过程中分两步：</p> <ol><li>布局消息传递； 将虚拟 DOM 布局信息传递给原生；</li> <li>原生根据布局信息通过对应的原生控件渲染控件树；</li></ol> <p>至此，React Native 便实现了跨平台。 相对于混合应用，由于 React Native 是原生控件渲染，所以性能会比混合应用中 H5 好很多，同时 React Native 使用了 Web 开发技术栈，也只需维护一份代码，同样是跨平台框架。</p> <p>Weex</p> <p>Weex 是阿里巴巴于 2016 年发布的跨平台移动端开发框架，思想及原理和 React Native 类似，最大的不同是语法层面，Weex 支持 Vue 语法和 Rax 语法，Rax 的 DSL(Domain Specific Language) 语法是基于 React JSX 语法而创造。与 React 不同，在 Rax 中 JSX 是必选的，它不支持通过其它方式创建组件，所以学习 JSX 是使用 Rax 的必要基础。而 React Native 只支持 JSX 语法。</p> <p>总结</p> <p>JavaScript 开发+原生渲染的方式主要优点如下：</p> <ol><li>采用 Web 开发技术栈，社区庞大、上手快、开发成本相对较低。</li> <li>原生渲染，性能相比 H5 提高很多。</li> <li>动态化较好，支持热更新。</li></ol> <p>不足：</p> <ol><li>渲染时需要 JavaScript 和原生之间通信，在有些场景如拖动可能会因为通信频繁导致卡顿。</li> <li>JavaScript 为脚本语言，执行时需要 JIT(Just In Time)，执行效率和 AOT(Ahead Of Time)代码仍有差距。</li> <li>由于渲染依赖原生控件，不同平台的控件需要单独维护，并且当系统更新时，社区控件可能会滞后；除此之外，其控件系统也会受到原生 UI 系统限制，例如，在 Android 中，手势冲突消歧规则是固定的，这在使用不同人写的控件嵌套时，手势冲突问题将会变得非常棘手。</li></ol> <h3 id="flutter"><a href="#flutter" class="header-anchor">#</a> flutter</h3> <p>Flutter 与用于构建移动应用程序的其它大多数框架不同，因为 Flutter 既不使用 WebView，也不使用操作系统的原生控件。 相反，Flutter 使用自己的高性能渲染引擎来绘制 widget。这样不仅可以保证在 Android 和 iOS 上 UI 的一致性，而且也可以避免对原生控件依赖而带来的限制及高昂的维护成本</p> <p>Flutter 使用自己的渲染引擎来绘制 UI，布局数据等由 Dart 语言直接控制，所以在布局过程中不需要像 RN 那样要在 JavaScript 和 Native 之间通信，这在一些滑动和拖动的场景下具有明显优势，因为在滑动和拖动过程往往都会引起布局发生变化，所以 JavaScript 需要和 Native 之间不停的同步布局信息，这和在浏览器中要 JavaScript 频繁操作 DOM 所带来的问题是相同的，都会带来比较可观的性能开销。</p> <h2 id="多端开发"><a href="#多端开发" class="header-anchor">#</a> 多端开发</h2> <h3 id="uniapp-和-taro"><a href="#uniapp-和-taro" class="header-anchor">#</a> uniapp 和 taro</h3> <p>taro 和 uni-app 是比较典型的多端框架，发布到各个端均可。</p> <h3 id="建议"><a href="#建议" class="header-anchor">#</a> 建议</h3> <ol><li>如果你熟悉 React，不懂 Vue.js，推荐 Taro；</li> <li>如果你熟悉 Vue.js，则推荐 uni-app；</li> <li>如果你已经有 H5 代码，只想增加微信小程序平台，并且对性能要求不高，可以考虑 kbone；</li> <li>如果你的业务涉及多端，更推荐 uni-app；</li> <li>如果你希望通过 serverless 方案快速上线业务，推荐 uni-app。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/计算机/shell.html" class="prev">
        shell
      </a></span> <span class="next"><a href="/app/Hybrid.html">
        Hybrid
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.485d83a3.js" defer></script><script src="/assets/js/2.85e80f7c.js" defer></script><script src="/assets/js/10.2cc7c1b7.js" defer></script>
  </body>
</html>
